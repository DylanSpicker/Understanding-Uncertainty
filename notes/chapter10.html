<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>10&nbsp; Introduction to Statistics – Understanding Uncertainty</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../notes/chapter11.html" rel="next">
<link href="../notes/chapter9.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2486e1f0a3ee9ee1fc393803a1361cdb.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-932f868ca5e0934f5300a6a88d9b9529.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs/editor/editor.main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer">
  
<style type="text/css">.monaco-editor pre {
  background-color: unset !important;
}

.qwebr-icon-status-spinner {
  color: #7894c4;
}

.qwebr-icon-run-code {
  color: #0d9c29
}

.qwebr-output-code-stdout {
  color: #111;
}

.qwebr-output-code-stderr {
  color: #db4133;
}

.qwebr-editor {
  border: 1px solid #EEEEEE;
}

.qwebr-button-run {
  background-color: #EEEEEE;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0; /* Extra styling for consistency */
  display: inline-block;
  font-weight: 400;
  line-height: 1.5;
  color: #000;
  text-align: center;
  text-decoration: none;
  -webkit-text-decoration: none;
  -moz-text-decoration: none;
  -ms-text-decoration: none;
  -o-text-decoration: none;
  /* vertical-align: middle; */ /* Prevents a space from appearing between the code cell and button */
  -webkit-user-select: none;
  border-color: #dee2e6;
  border: 1px solid rgba(0,0,0,0);
  padding: 0.375rem 0.75rem;
  font-size: 1rem;
  border-top-right-radius: 0.25rem;
  border-top-left-radius: 0.25rem;
  transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}

.qwebr-button-run:hover {
  color: #000;
  background-color: #e3e6ea;
  border-color: #e1e5e9;
}

.qwebr-button-run:disabled,.qwebr-button-run.disabled,fieldset:disabled .qwebr-button-run {
  pointer-events: none;
  opacity: .65
}

/* Custom styling for RevealJS Presentations*/

/* Reset the style of the interactive area */
.reveal div.qwebr-interactive-area {
  display: block;
  box-shadow: none;
  max-width: 100%;
  max-height: 100%;
  margin: 0;
  padding: 0;
} 

/* Provide space to entries */
.reveal div.qwebr-output-code-area pre div {
  margin: 1px 2px 1px 10px;
}

/* Collapse the inside code tags to avoid extra space between line outputs */
.reveal pre div code.qwebr-output-code-stdout, .reveal pre div code.qwebr-output-code-stderr {
  padding: 0;
  display: contents;
}

.reveal pre div code.qwebr-output-code-stdout {
  color: #111;
}

.reveal pre div code.qwebr-output-code-stderr {
  color: #db4133;
}


/* Create a border around console and output (does not effect graphs) */
.reveal div.qwebr-console-area {
  border: 1px solid #EEEEEE;
  box-shadow: 2px 2px 10px #EEEEEE;
}

/* Cap output height and allow text to scroll */
/* TODO: Is there a better way to fit contents/max it parallel to the monaco editor size? */
.reveal div.qwebr-output-code-area pre {
  max-height: 400px;
  overflow: scroll;
}
</style>
<script type="module">// Start a timer
const initializeWebRTimerStart = performance.now();

// Determine if we need to install R packages
var installRPackagesList = [''];
// Check to see if we have an empty array, if we do set to skip the installation.
var setupRPackages = !(installRPackagesList.indexOf("") !== -1);
var autoloadRPackages = true;

// Display a startup message?
var showStartupMessage = true;
var showHeaderMessage = false;
if (showStartupMessage) {

  // Get references to header elements
  const headerHTML = document.getElementById("title-block-header");
  const headerRevealJS = document.getElementById("title-slide");

  // Create the outermost div element for metadata
  const quartoTitleMeta = document.createElement("div");
  quartoTitleMeta.classList.add("quarto-title-meta");

  // Create the first inner div element
  const firstInnerDiv = document.createElement("div");
  firstInnerDiv.setAttribute("id", "qwebr-status-message-area");

  // Create the second inner div element for "WebR Status" heading and contents
  const secondInnerDiv = document.createElement("div");
  secondInnerDiv.setAttribute("id", "qwebr-status-message-title");
  secondInnerDiv.classList.add("quarto-title-meta-heading");
  secondInnerDiv.innerText = "WebR Status";

  // Create another inner div for contents
  const secondInnerDivContents = document.createElement("div");
  secondInnerDivContents.setAttribute("id", "qwebr-status-message-body");
  secondInnerDivContents.classList.add("quarto-title-meta-contents");

  // Describe the WebR state
  var startupMessageWebR = document.createElement("p");
  startupMessageWebR.innerText = "🟡 Loading...";
  startupMessageWebR.setAttribute("id", "qwebr-status-message-text");
  // Add `aria-live` to auto-announce the startup status to screen readers
  startupMessageWebR.setAttribute("aria-live", "assertive");

  // Append the startup message to the contents
  secondInnerDivContents.appendChild(startupMessageWebR);

  // Add a status indicator for COOP and COEP Headers if needed
  if (showHeaderMessage) {
    const crossOriginMessage = document.createElement("p");
    crossOriginMessage.innerText = `${crossOriginIsolated ? '🟢' : '🟡'} COOP & COEP Headers`;
    crossOriginMessage.setAttribute("id", "qwebr-coop-coep-header");
    secondInnerDivContents.appendChild(crossOriginMessage);
  }

  // Combine the inner divs and contents
  firstInnerDiv.appendChild(secondInnerDiv);
  firstInnerDiv.appendChild(secondInnerDivContents);
  quartoTitleMeta.appendChild(firstInnerDiv);

  // Determine where to insert the quartoTitleMeta element
  if (headerHTML) {
    // Append to the existing "title-block-header" element
    headerHTML.appendChild(quartoTitleMeta);
  } else if (headerRevealJS) {
    // If using RevealJS, add to the "title-slide" div
    headerRevealJS.appendChild(firstInnerDiv);
  } else {
    // If neither headerHTML nor headerRevealJS is found, insert after "webr-monaco-editor-init" script
    const monacoScript = document.getElementById("qwebr-monaco-editor-init");
    const header = document.createElement("header");
    header.setAttribute("id", "title-block-header");
    header.appendChild(quartoTitleMeta);
    monacoScript.after(header);
  }
}

// Retrieve the webr.mjs
import { WebR, ChannelType } from "https://webr.r-wasm.org/v0.2.2/webr.mjs";

// Populate WebR options with defaults or new values based on 
// webr meta
globalThis.webR = new WebR({
  "baseURL": "https://webr.r-wasm.org/v0.2.2/",
  "serviceWorkerUrl": "",
  "homedir": "/home/web_user", 
  "channelType": ChannelType.Automatic
});

// Initialization WebR
await webR.init();

// Setup a shelter
globalThis.webRCodeShelter = await new webR.Shelter();

// Setup a pager to allow processing help documentation 
await webR.evalRVoid('webr::pager_install()'); 

// Function to set the button text
function qwebrSetInteractiveButtonState(buttonText, enableCodeButton = true) {
  document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
    btn.innerHTML = buttonText;
    btn.disabled = !enableCodeButton;
  });
}

// Function to update the status message
function qwebrUpdateStatusHeader(message) {
  startupMessageWebR.innerHTML = `
    <i class="fa-solid fa-spinner fa-spin qwebr-icon-status-spinner"></i>
    <span>${message}</span>`;
}

// Function to install a single package
async function qwebrInstallRPackage(packageName) {
  await globalThis.webR.installPackages([packageName]);
}

// Function to load a single package
async function qwebrLoadRPackage(packageName) {
  await globalThis.webR.evalRVoid(`library(${packageName});`);
}

// Generic function to process R packages
async function qwebrProcessRPackagesWithStatus(packages, processType, displayStatusMessageUpdate = true) {
  // Switch between contexts
  const messagePrefix = processType === 'install' ? 'Installing' : 'Loading';

  // Modify button state
  qwebrSetInteractiveButtonState(`🟡 ${messagePrefix} package ...`, false);

  // Iterate over packages
  for (let i = 0; i < packages.length; i++) {
    const activePackage = packages[i];
    const formattedMessage = `${messagePrefix} package ${i + 1} out of ${packages.length}: ${activePackage}`;
    
    // Display the update
    if (displayStatusMessageUpdate) {
      qwebrUpdateStatusHeader(formattedMessage);
    }

    // Run package installation
    if (processType === 'install') {
      await qwebrInstallRPackage(activePackage);
    } else {
      await qwebrLoadRPackage(activePackage);
    }
  }

  // Clean slate
  if (processType === 'load') {
    await globalThis.webR.flush();
  }
}


// Check to see if any packages need to be installed
if (setupRPackages) {
  // Obtain only a unique list of packages
  const uniqueRPackageList = Array.from(new Set(installRPackagesList));

  // Install R packages one at a time (either silently or with a status update)
  await qwebrProcessRPackagesWithStatus(uniqueRPackageList, 'install', showStartupMessage);

  if(autoloadRPackages) {
    // Load R packages one at a time (either silently or with a status update)
    await qwebrProcessRPackagesWithStatus(uniqueRPackageList, 'load', showStartupMessage);
  }
}

// Stop timer
const initializeWebRTimerEnd = performance.now();

// Release document status as ready
if (showStartupMessage) {
  startupMessageWebR.innerText = "🟢 Ready!"
}

qwebrSetInteractiveButtonState(
  `<i class="fa-solid fa-play qwebr-icon-run-code"></i> <span>Run Code</span>`, 
  true
);

// Global version of the Escape HTML function that converts HTML 
// characters to their HTML entities.
globalThis.qwebrEscapeHTMLCharacters = function(unsafe) {
  return unsafe
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&#039;");
};</script>
<script type="module">// Supported Evaluation Types for Context
globalThis.EvalTypes = Object.freeze({
    Interactive: 'interactive',
    Setup: 'setup',
    Output: 'output',
});

// Function to verify a given JavaScript Object is empty
globalThis.qwebrIsObjectEmpty = function (arr) {
    return Object.keys(arr).length === 0;
}

// Function to parse the pager results
globalThis.qwebrParseTypePager = async function (msg) { 

    // Split out the event data
    const { path, title, deleteFile } = msg.data; 

    // Process the pager data by reading the information from disk
    const paged_data = await webR.FS.readFile(path).then((data) => {
        // Obtain the file content
        let content = new TextDecoder().decode(data);

        // Remove excessive backspace characters until none remain
        while(content.match(/.[\b]/)){
        content = content.replace(/.[\b]/g, '');
        }

        // Returned cleaned data
        return content;
    });

    // Unlink file if needed
    if (deleteFile) { 
        await webR.FS.unlink(path); 
    } 

    // Return extracted data with spaces
    return paged_data;
} 

// Function to run the code using webR and parse the output
globalThis.qwebrComputeEngine = async function(
    codeToRun, 
    elements, 
    options) {

    // Call into the R compute engine that persists within the document scope.
    // To be prepared for all scenarios, the following happens: 
    // 1. We setup a canvas device to write to by making a namespace call into the {webr} package
    // 2. We use values inside of the options array to set the figure size.
    // 3. We capture the output stream information (STDOUT and STERR)
    // 4. While parsing the results, we disable image creation.

    // Create a canvas variable for graphics
    let canvas = undefined;

    // Create a pager variable for help/file contents
    let pager = [];

    // ---- 

    // Initialize webR
    await webR.init();

    // Setup a webR canvas by making a namespace call into the {webr} package
    await webR.evalRVoid(`webr::canvas(width=${options["fig-width"]}, height=${options["fig-height"]})`);

    const result = await webRCodeShelter.captureR(codeToRun, {
        withAutoprint: true,
        captureStreams: true,
        captureConditions: false//,
        // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
    });

    // -----

    // Start attempting to parse the result data
    try {

        // Stop creating images
        await webR.evalRVoid("dev.off()");

        // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
        const out = result.output
        .filter(evt => evt.type === "stdout" || evt.type === "stderr")
        .map((evt, index) => {
            const className = `qwebr-output-code-${evt.type}`;
            return `<code id="${className}-editor-${elements.id}-result-${index + 1}" class="${className}">${qwebrEscapeHTMLCharacters(evt.data)}</code>`;
        })
        .join("\n");


        // Clean the state
        // We're now able to process both graphics and pager events.
        // As a result, we cannot maintain a true 1-to-1 output order 
        // without individually feeding each line
        const msgs = await webR.flush();

        // Output each image event stored
        msgs.forEach((msg) => {
        // Determine if old canvas can be used or a new canvas is required.
        if (msg.type === 'canvas'){
            // Add image to the current canvas
            if (msg.data.event === 'canvasImage') {
                canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
            } else if (msg.data.event === 'canvasNewPage') {
                // Generate a new canvas element
                canvas = document.createElement("canvas");
                canvas.setAttribute("width", 2 * options["fig-width"]);
                canvas.setAttribute("height", 2 * options["fig-height"]);
                canvas.style.width = "700px";
                canvas.style.display = "block";
                canvas.style.margin = "auto";
            }
        } 
        });

        // Use `map` to process the filtered "pager" events asynchronously
        const pager = await Promise.all(
            msgs.filter(msg => msg.type === 'pager').map(
                async (msg) => {
                    return await qwebrParseTypePager(msg);
                }
            )
        );

        // Nullify the output area of content
        elements.outputCodeDiv.innerHTML = "";
        elements.outputGraphDiv.innerHTML = "";

        // Design an output object for messages
        const pre = document.createElement("pre");
        if (/\S/.test(out)) {
            // Display results as HTML elements to retain output styling
            const div = document.createElement("div");
            div.innerHTML = out;
            pre.appendChild(div);
        } else {
            // If nothing is present, hide the element.
            pre.style.visibility = "hidden";
        }

        elements.outputCodeDiv.appendChild(pre);

        // Place the graphics on the canvas
        if (canvas) {
            elements.outputGraphDiv.appendChild(canvas);
        }

        // Display the pager data
        if (pager) {
        // Use the `pre` element to preserve whitespace.
        pager.forEach((paged_data, index) => {
            let pre_pager = document.createElement("pre");
            pre_pager.innerText = paged_data;
            pre_pager.classList.add("qwebr-output-code-pager");
            pre_pager.setAttribute("id", `qwebr-output-code-pager-editor-${elements.id}-result-${index + 1}`);
            elements.outputCodeDiv.appendChild(pre_pager);
        });
        }
    } finally {
        // Clean up the remaining code
        webRCodeShelter.purge();
    }
}

// Function to execute the code (accepts code as an argument)
globalThis.qwebrExecuteCode = async function (
    codeToRun,
    id,
    evalType = EvalTypes.Interactive,
    options = {}) {

    // If options are not passed, we fall back on the bare minimum to handle the computation
    if (qwebrIsObjectEmpty(options)) {
        options = { "fig-width": 504, "fig-height": 360 };
    }

    // Next, we access the compute areas values
    const elements = {
        runButton: document.getElementById(`qwebr-button-run-${id}`),
        outputCodeDiv: document.getElementById(`qwebr-output-code-area-${id}`),
        outputGraphDiv: document.getElementById(`qwebr-output-graph-area-${id}`),
        id: id,
    }

    // Disallowing execution of other code cells
    document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
        btn.disabled = true;
    });

    if (evalType == EvalTypes.Interactive) {
        // Emphasize the active code cell
        elements.runButton.innerHTML = '<i class="fa-solid fa-spinner fa-spin qwebr-icon-status-spinner"></i> <span>Run Code</span>';
    }

    // Evaluate the code and parse the output into the document
    await qwebrComputeEngine(codeToRun, elements, options);

    // Switch to allowing execution of code
    document.querySelectorAll(".qwebr-button-run").forEach((btn) => {
        btn.disabled = false;
    });

    if (evalType == EvalTypes.Interactive) {
        // Revert to the initial code cell state
        elements.runButton.innerHTML = '<i class="fa-solid fa-play qwebr-icon-run-code"></i> <span>Run Code</span>';
    }
}
</script>
<script type="module">// Function that dispatches the creation request
globalThis.qwebrCreateHTMLElement = function (insertElement,
  qwebrCounter, 
  evalType = EvalTypes.Interactive,
  options = {}) {

  // Figure out the routine to use to insert the element.
  let qwebrElement;
  switch ( evalType ) {
    case EvalTypes.Interactive: 
      qwebrElement = qwebrCreateInteractiveElement(qwebrCounter);
    case EvalTypes.Output: 
      qwebrElement = qwebrCreateNonInteractiveOutputElement(qwebrCounter);
    case EvalTypes.Setup: 
      qwebrElement = qwebrCreateNonInteractiveSetupElement(qwebrCounter);
    default: 
      qwebrElement = document.createElement('div');
      qwebrElement.textContent = 'Error creating element';
  }

  // Insert the dynamically generated object at the document location.
  insertElement.appendChild(qwebrElement);
};

// Function that setups the interactive element creation
globalThis.qwebrCreateInteractiveElement = function (qwebrCounter) {

  // Create main div element
  var mainDiv = document.createElement('div');
  mainDiv.id = 'qwebr-interactive-area-' + qwebrCounter;
  mainDiv.className = 'qwebr-interactive-area';

  // Create button element
  var button = document.createElement('button');
  button.className = 'btn btn-default qwebr-button-run';
  button.disabled = true;
  button.type = 'button';
  button.id = 'qwebr-button-run-' + qwebrCounter;
  button.textContent = '🟡 Loading webR...';

  // Create console area div
  var consoleAreaDiv = document.createElement('div');
  consoleAreaDiv.id = 'qwebr-console-area-' + qwebrCounter;
  consoleAreaDiv.className = 'qwebr-console-area';

  // Create editor div
  var editorDiv = document.createElement('div');
  editorDiv.id = 'qwebr-editor-' + qwebrCounter;
  editorDiv.className = 'qwebr-editor';

  // Create output code area div
  var outputCodeAreaDiv = document.createElement('div');
  outputCodeAreaDiv.id = 'qwebr-output-code-area-' + qwebrCounter;
  outputCodeAreaDiv.className = 'qwebr-output-code-area';
  outputCodeAreaDiv.setAttribute('aria-live', 'assertive');

  // Create pre element inside output code area
  var preElement = document.createElement('pre');
  preElement.style.visibility = 'hidden';
  outputCodeAreaDiv.appendChild(preElement);

  // Create output graph area div
  var outputGraphAreaDiv = document.createElement('div');
  outputGraphAreaDiv.id = 'qwebr-output-graph-area-' + qwebrCounter;
  outputGraphAreaDiv.className = 'qwebr-output-graph-area';

  // Append all elements to the main div
  mainDiv.appendChild(button);
  consoleAreaDiv.appendChild(editorDiv);
  consoleAreaDiv.appendChild(outputCodeAreaDiv);
  mainDiv.appendChild(consoleAreaDiv);
  mainDiv.appendChild(outputGraphAreaDiv);

  return mainDiv;
}

// Function that adds output structure for non-interactive output
globalThis.qwebrCreateNonInteractiveOutputElement = function(qwebrCounter) {
  // Create main div element
  var mainDiv = document.createElement('div');
  mainDiv.id = 'qwebr-noninteractive-area-' + qwebrCounter;
  mainDiv.className = 'qwebr-noninteractive-area';

  // Create output code area div
  var outputCodeAreaDiv = document.createElement('div');
  outputCodeAreaDiv.id = 'qwebr-output-code-area-' + qwebrCounter;
  outputCodeAreaDiv.className = 'qwebr-output-code-area';
  outputCodeAreaDiv.setAttribute('aria-live', 'assertive');

  // Create pre element inside output code area
  var preElement = document.createElement('pre');
  preElement.style.visibility = 'hidden';
  outputCodeAreaDiv.appendChild(preElement);

  // Create output graph area div
  var outputGraphAreaDiv = document.createElement('div');
  outputGraphAreaDiv.id = 'qwebr-output-graph-area-' + qwebrCounter;
  outputGraphAreaDiv.className = 'qwebr-output-graph-area';

  // Append all elements to the main div
  mainDiv.appendChild(outputCodeAreaDiv);
  mainDiv.appendChild(outputGraphAreaDiv);

  return mainDiv;
};

// Function that adds a stub in the page to indicate a setup cell was used.
globalThis.qwebrCreateNonInteractiveSetupElement = function(qwebrCounter) {
  // Create main div element
  var mainDiv = document.createElement('div');
  mainDiv.id = 'qwebr-noninteractive-setup-area-' + qwebrCounter;
  mainDiv.className = 'qwebr-noninteractive-setup-area';

  return mainDiv;
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../webex.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notes/chapter10.html">Part 2: Statistics</a></li><li class="breadcrumb-item"><a href="../notes/chapter10.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction to Statistics</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Understanding Uncertainty</a> 
        <div class="sidebar-tools-main">
    <a href="../Understanding-Uncertainty.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 1: Probability</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Mathematical Foundations of Statistical Experiments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">The Core Concepts of Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Probabilities with More than One Event</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Summarizing Statistical Experiments with Random Variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The Expected Value, Location Summaries, and Measures of Variability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Expectations and Variances with Multiple Random Variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">The Named Discrete Distributions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Continuous Random Variables</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 2: Statistics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter10.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction to Statistics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">An Introduction to Descriptive Statistics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Sampling Distributions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Methods of Estimation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Confidence Intervals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">The Basics of Null Hypothesis Significance Testing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter16.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Hypothesis Testing and Confidence Intervals in Two Populations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter17.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Nonparametric Hypothesis Testing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter18.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">The Analysis of Categorical Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter19.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Simple Linear Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes/chapter20.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">The One-Way ANOVA</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#from-probability-to-statistics" id="toc-from-probability-to-statistics" class="nav-link active" data-scroll-target="#from-probability-to-statistics"><span class="header-section-number">10.1</span> From Probability to Statistics</a></li>
  <li><a href="#background-and-data" id="toc-background-and-data" class="nav-link" data-scroll-target="#background-and-data"><span class="header-section-number">10.2</span> Background and Data</a></li>
  <li><a href="#sampling" id="toc-sampling" class="nav-link" data-scroll-target="#sampling"><span class="header-section-number">10.3</span> Sampling</a>
  <ul class="collapse">
  <li><a href="#simple-random-sampling" id="toc-simple-random-sampling" class="nav-link" data-scroll-target="#simple-random-sampling"><span class="header-section-number">10.3.1</span> Simple Random Sampling</a></li>
  <li><a href="#systematic-random-sampling" id="toc-systematic-random-sampling" class="nav-link" data-scroll-target="#systematic-random-sampling"><span class="header-section-number">10.3.2</span> Systematic Random Sampling</a></li>
  <li><a href="#cluster-sampling" id="toc-cluster-sampling" class="nav-link" data-scroll-target="#cluster-sampling"><span class="header-section-number">10.3.3</span> Cluster Sampling</a></li>
  <li><a href="#stratified-random-sampling" id="toc-stratified-random-sampling" class="nav-link" data-scroll-target="#stratified-random-sampling"><span class="header-section-number">10.3.4</span> Stratified Random Sampling</a></li>
  <li><a href="#multistage-sampling" id="toc-multistage-sampling" class="nav-link" data-scroll-target="#multistage-sampling"><span class="header-section-number">10.3.5</span> Multistage Sampling</a></li>
  </ul></li>
  <li><a href="#experimental-design" id="toc-experimental-design" class="nav-link" data-scroll-target="#experimental-design"><span class="header-section-number">10.4</span> Experimental Design</a>
  <ul class="collapse">
  <li><a href="#the-principles-of-experimental-design" id="toc-the-principles-of-experimental-design" class="nav-link" data-scroll-target="#the-principles-of-experimental-design"><span class="header-section-number">10.4.1</span> The Principles of Experimental Design</a></li>
  <li><a href="#completely-randomized-design" id="toc-completely-randomized-design" class="nav-link" data-scroll-target="#completely-randomized-design"><span class="header-section-number">10.4.2</span> Completely Randomized Design</a></li>
  <li><a href="#randomized-block-design" id="toc-randomized-block-design" class="nav-link" data-scroll-target="#randomized-block-design"><span class="header-section-number">10.4.3</span> Randomized Block Design</a></li>
  </ul></li>
  <li><a href="#data-description-and-organization" id="toc-data-description-and-organization" class="nav-link" data-scroll-target="#data-description-and-organization"><span class="header-section-number">10.5</span> Data Description and Organization</a></li>
  <li><a href="#from-data-to-insight" id="toc-from-data-to-insight" class="nav-link" data-scroll-target="#from-data-to-insight"><span class="header-section-number">10.6</span> From Data to Insight</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs/loader.js"></script>
<script type="module" id="qwebr-monaco-editor-init">

  // Configure the Monaco Editor's loader
  require.config({
    paths: {
      'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs'
    }
  });
</script>
<script type="module">// Global dictionary to store Monaco Editor instances
const qwebrEditorInstances = {};

// Function that builds and registers a Monaco Editor instance    
globalThis.qwebrCreateMonacoEditorInstance = function (
    initialCode, 
    qwebrCounter) {

  // Retrieve the previously created document elements
  let runButton = document.getElementById(`qwebr-button-run-${qwebrCounter}`);
  let editorDiv = document.getElementById(`qwebr-editor-${qwebrCounter}`);
  
  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: initialCode,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // Works wonderfully with RevealJS
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5pt',              // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true  // Remove cursor indictor in right hand side scroll bar
    });

    // Store the official counter ID to be used in keyboard shortcuts
    editor.__qwebrCounter = qwebrCounter;

    // Store the official div container ID
    editor.__qwebrEditorId = `qwebr-editor-${qwebrCounter}`;

    // Store the initial code value
    editor.__qwebrinitialCode = initialCode;

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Helper function to check if selected text is empty
    function isEmptyCodeText(selectedCodeText) {
      return (selectedCodeText === null || selectedCodeText === undefined || selectedCodeText === "");
    }

    // Registry of keyboard shortcuts that should be re-added to each editor window
    // when focus changes.
    const addWebRKeyboardShortCutCommands = () => {
      // Add a keydown event listener for Shift+Enter to run all code in cell
      editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, () => {

        // Retrieve all text inside the editor
        qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter);
      });

      // Add a keydown event listener for CMD/Ctrl+Enter to run selected code
      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, () => {

        // Get the selected text from the editor
        const selectedText = editor.getModel().getValueInRange(editor.getSelection());
        // Check if no code is selected
        if (isEmptyCodeText(selectedText)) {
          // Obtain the current cursor position
          let currentPosition = editor.getPosition();
          // Retrieve the current line content
          let currentLine = editor.getModel().getLineContent(currentPosition.lineNumber);

          // Propose a new position to move the cursor to
          let newPosition = new monaco.Position(currentPosition.lineNumber + 1, 1);

          // Check if the new position is beyond the last line of the editor
          if (newPosition.lineNumber > editor.getModel().getLineCount()) {
            // Add a new line at the end of the editor
            editor.executeEdits("addNewLine", [{
            range: new monaco.Range(newPosition.lineNumber, 1, newPosition.lineNumber, 1),
            text: "\n", 
            forceMoveMarkers: true,
            }]);
          }
          
          // Run the entire line of code.
          qwebrExecuteCode(currentLine, editor.__qwebrCounter,
            EvalTypes.Interactive);

          // Move cursor to new position
          editor.setPosition(newPosition);
        } else {
          // Code to run when Ctrl+Enter is pressed with selected code
          qwebrExecuteCode(selectedText, editor.__qwebrCounter, EvalTypes.Interactive);
        }
      });
    }

    // Register an on focus event handler for when a code cell is selected to update
    // what keyboard shortcut commands should work.
    // This is a workaround to fix a regression that happened with multiple
    // editor windows since Monaco 0.32.0 
    // https://github.com/microsoft/monaco-editor/issues/2947
    editor.onDidFocusEditorText(addWebRKeyboardShortCutCommands);

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();

    // Store the editor instance in the global dictionary
    qwebrEditorInstances[editor.__qwebrCounter] = editor;

  });

  // Add a click event listener to the run button
  runButton.onclick = function () {
    qwebrExecuteCode(editor.getValue(), editor.__qwebrCounter, EvalTypes.Interactive);
  };

}</script>

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notes/chapter10.html">Part 2: Statistics</a></li><li class="breadcrumb-item"><a href="../notes/chapter10.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction to Statistics</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction to Statistics</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="from-probability-to-statistics" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="from-probability-to-statistics"><span class="header-section-number">10.1</span> From Probability to Statistics</h2>
<p>Until this point we have focused on the study of probability. At its core, probability is a subject which seeks to quantify the uncertainty present in statistical experiments. In the study of probability we begin by first making assumptions about the state of the world<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> and from there we draw conclusions about what must be true about the state of uncertainty in the world. In this regard, probability answers questions of the form “if this is true about the world, what should we see?” For instance, if a fair coin is tossed <span class="math inline">\(100\)</span> times, what is the likelihood that more than half of the tosses come up heads? We have made the assumption that we have a fair coin, tossed independently, and we wish to quantify our degree of uncertainty about this scenario.</p>
<p>This is not the only way that we could frame problems related to uncertainty. For instance, what if we asked “given the results from <span class="math inline">\(100\)</span> tosses of this coin, do we believe that the coin is fair?” This inversion of the previous question starts from the observation of information from an experiment and asks questions about the underlying mechanisms that generated these data.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> This type of question is addressed by the field of <strong>statistics</strong>.</p>
<div id="def-statistics" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.1 (Statistics (Field of Study))</strong></span> Statistics is the discipline in which data are collected, analyzed, and presented with the goal of understanding the mechanisms through which those data were generated.</p>
</div>
<p>In Probability, we make assumptions about the world and calculate probabilities. These probabilities describe what we should expect to see if we were to observe the processes as they were assumed to exist. In Statistics, we collect information from statistical experiments, and use these data to infer what conditions were likely to have given rise to our observations. We are back solving for what set of assumptions is most plausible, given the observations. Uncertainty remains at the core of statistics. We will rarely be able to know <em>for certain</em> what different assumptions gave rise to the data that we observe, but instead look to clarify and quantify the ever-present uncertainty. Probability remains central to the study of statistics. Specifically, probability is the core tool for quantifying the ever-present uncertainty. Probability statements are the language of Statistics. As a result, the study of Statistics is largely the study of how we can take the set of tools that have been developed throughout the first part of these notes, and apply them in the reverse direction. Statistics gives us the tools that we need to make sense of the world around us. Statistics serves as a process for evaluating the quality of evidence and drawing conclusions from it. Statistics is the area of study required to draw informed conclusions from the information that we collect. Ultimately, it is Statistics which powers quantitative decision-making. Virtually every avenue of the modern world demands that we make decisions on the basis of incomplete or imperfect information, and through Statistics we can ensure that these decisions are as informed as possible.</p>
</section>
<section id="background-and-data" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="background-and-data"><span class="header-section-number">10.2</span> Background and Data</h2>
<p>It is important to formalize some terminology upon which we will rely. A key challenge in formalizing these ideas is that, for many of these central concepts, we have an intuitive or colloquial sense of the idea. Just as with Probability, a large part of our goal during the early phases of learning Statistics revolves around connecting formalized ideas to intuitive concepts that we are familiar with from other contexts.</p>
<div id="def-data" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.2 (Data)</strong></span> Facts, figures, observations, or recordings in virtually any form (images, sounds, text, measurements) which are gathered and processed to form and communicate conclusions.</p>
</div>
<p>Data sit at the center of Statistics as the prime objects of study. We are concerned with how we can take data and draw valid conclusions. This may be by ensuring that the data are collected in a way which is suitable to draw conclusions, or by finding ways to graphically display the information within collected data, or by drawing inferences about the world using the data on hand. Data are the prime focus of Statistics. The data themselves are not particularly descriptive or actionable. Instead, the data are transformed into useful information through statistical techniques. We will broadly refer to any such process as a statistical analysis.</p>
<p>The goal of a statistical analysis can be placed into one of four categories. These categories define the four purposes of statistics.</p>
<ol type="1">
<li><strong>Descriptive statistics</strong>: Descriptive statistics focuses on organizing and summarizing information. With descriptive statistics we seek to <strong>describe</strong> the current state of the world which lead to the data we have collected.</li>
<li><strong>Inferential statistics</strong>: Inferential statistics provides methods for drawing conclusions and quantifying the uncertainty surrounding these conclusions, regarding a population or process response for the data collected. With inferential statistics we seek to <strong>infer</strong> the underlying truth about a population or process of interest.</li>
<li><strong>Predictive statistics</strong>: Predictive statistics provides methods for making predictions regarding the future behaviour of a process or population based on past observations from that population or process. With predictive statistics we seek to <strong>predict</strong> what is to come in the future.</li>
<li><strong>Prescriptive statistics</strong>: Prescriptive statistics provides methods for suggesting interventions into a population or process according to its likely impact on a chosen criterion. With prescriptive statistics we seek to <strong>prescribe</strong> interventions based on what is likely to happen.</li>
</ol>
<div id="exm-type-of-statistics" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.1 (Charles and Sadie Categorized Questions)</strong></span> Back out for coffee after a relaxing break, Charles and Sadie turn their attention to thinking about the possible use cases for Statistics. They begin to play a game, trying to identify which of the four major categories would be most appropriate to address their various questions of interest. For each of the following, identify whether the problem is best approached through descriptive, inferential, predictive, or prescriptive statistical techniques.</p>
<ol type="a">
<li>Charles wonders how many people, on average, visit the coffee shop each day.</li>
<li>Sadie wonders if the type of music playing in the shop impacts what purchases customers make.</li>
<li>Charles wants to determine how many chocolate chip cookies the coffee shop should prepare for Saturday morning.</li>
<li>Sadie wonders what the most common drink add-in is.</li>
<li>Charles wants to know how much the coffee shop should sell their coffees for, if they are trying to maximize income.</li>
<li>Sadie wants to understand how many people have signed up for the loyalty program.</li>
<li>Charles wonders if there is a meaningful difference between people’s orders who sign up for the loyalty program and those who don’t.</li>
<li>Sadie, in turn, questions how much the loyalty program is likely to grow over the next month.</li>
<li>Charles wants to understand how the reward tiers can be changed to grow the royalty program faster.</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>This is <strong>descriptive</strong>. This is an attempt to describe the state of the world as it exists.</li>
<li>This is <strong>inferential</strong>. This is an attempt to draw conclusions regarding the true state of the world.</li>
<li>This is <strong>predictive</strong>. This is an attempt to understand the future behaviour of uncertain quantities.</li>
<li>This is <strong>descriptive</strong>. This is an attempt to describe the state of the world as it exists.</li>
<li>This is <strong>prescriptive</strong>. This is an attempt to suggest an intervention to achieve a desired outcome.</li>
<li>This is <strong>descriptive</strong>. This is an attempt to describe the state of the world as it exists.</li>
<li>This is <strong>inferential</strong>. This is an attempt to draw conclusions regarding the true state of the world.</li>
<li>This is <strong>predictive</strong>. This is an attempt to understand the future behaviour of uncertain quantities.</li>
<li>This is <strong>prescriptive</strong>. This is an attempt to suggest an intervention to achieve a desired outcome.</li>
</ol>
</div>
</div>
</div>
</div>
<p>Each of the various roles that statistics can play is defined in terms of <strong>populations</strong><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. We understand this at an intuitive level, and this intuition is strong place to begin to formalize Statistics.</p>
<div id="def-population" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.3 (Population)</strong></span> The collection of all individuals or items that are under consideration in a study or experiment.</p>
</div>
<p>In many settings, the population is a well-defined, concrete idea. We may think of all individuals who attend a particular university, all birds of a species living in a particular park, all cars of a particular model made last year at a given factory. In each of these cases we can envision taking all members of the population<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> and placing them in one location. If we were able to do this, any questions we had about the population could be directly answered. This is not typically possible in these cases owing to practical considerations regarding the resources that would be required.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> In many other settings, we cannot even imagine grouping the entire population of interest together, since the population is less concretely defined.</p>
<p>Consider, for instance, investigating the quality of vaccines that are produced at a particular facility. This facility will continue producing vaccines indefinitely into the future, and we may wish to know about the set of these future items. Similarly, we may wish to understand the impact of a particular teaching style on children’s ability to learn math skills. In this case, we are not concerned with one particular school or one particular school board or one particular set of students. Rather we want to know how children <strong>in general</strong> respond to this teaching intervention. In cases like these the population of interest is less concrete and more <strong>conceptual</strong>. It is not a specific well-defined group of individuals or items, and it may be possibly infinite. Instead of being able to collect all the items of the population together we are only able to assess any individual or item and answer “is this a member of the described population?”. We refer to these as <strong>conceptual populations</strong>.</p>
<div id="def-conceptual-pop" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.4 (Conceptual Population)</strong></span> A set of individuals, items, or observations which are hypothetical in the sense that they do not tangibly exist as a concrete group, but instead share a common feature which defines the population. The units in the conceptual population are linked through the circumstances that they arise under resulting from conditions which are equivalent in some way. Sometimes conceptual populations are called <strong>hypothetical populations</strong>.</p>
</div>
<p>The utility of a conceptual population is that it allows us to unify the framework of Statistics whether we are studying groups of people or objects that really do exist in front of us, or those which we can describe but not collect. Even something as well-defined as the population of a country, for instance, is a population which may be conceptual in many regards. There are constantly new individuals being born in the country, those who are dying, those moving to or away from it. Still, none of us are confused about what we mean by the “population of a country”. Likewise, conceptual populations in statistics are well-defined, even if they remain intangible.</p>
<div id="exm-populations" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.2 (Charles and Sadie Identify Populations)</strong></span> Charles and Sadie had such fun identifying the uses for statistics during their last conversation, today at coffee they decide to identify populations of interest. They open up the local paper to the science section, and begin to read the headlines. For each headline, indicate the population of interest and specify whether this is a conceptual population.</p>
<ol type="a">
<li>“Study Finds Link Between Coffee Consumption and Productivity in Office Workers”</li>
<li>“Research Shows Decline in Pollinator Populations Across Agricultural Regions”</li>
<li>“Poll Indicates Attitudes Toward Healthcare Reform Among Registered Voters”</li>
<li>“Research Reveals Impact of Air Pollution on Respiratory Health Among Children in New York City in 2023”</li>
<li>“Survey Explores Relationship Between Social Support and Mental Health Among LGBTQ+ Youth”</li>
<li>“Poll Indicates Satisfaction with Public Transportation Among Commuters in Metropolitan Areas in Canada”</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>The population of interest here is simply “office workers”. This is a conceptual population as we can easily tell whether someone belongs to the population (ask whether they work in an office), but we cannot easily describe the complete group of individuals.</li>
<li>The population of interest here is pollinators in agricultural regions. This is a conceptual population as it will be constantly shifting and changing. We are able to describe whether a particular animal is a pollinator living in an agricultural region, but we are not able to enumerate through the animals which would satisfy this.</li>
<li>The population of interest here is registered voters (wherever the study is run). This is not a conceptual population as a voter registry contains a list of all the people within this population. It may be the case that this will change over time, but we can concretely determine the population at this point in time.</li>
<li>The population is children in New York City in 2023. This is not a conceptual population as, while there is not any practical way of gathering all children living in New York City in 2023 together in one place, this is a fully describable population that (given enough resources) could be gathered together.</li>
<li>The population of interest here is LGBTQ+ youth. This is a conceptual population, as we are able to assess membership to the population, but not fully enumerate the members.</li>
<li>The population here is Canadian metropolitan-area commuters. This is a conceptual population.</li>
</ol>
</div>
</div>
</div>
</div>
<p>Ultimately, our goal with statistics is to understand a population. However, as a general rule, we are unable to directly observe the entirety of the population. While it is typically infeasible to observe the entire population, we are often able to observe some units from the population. These units, when collected together, are referred to as a <strong>sample</strong>.</p>
<div id="def-sample" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.5 (Sample)</strong></span> A sample is a subset of a population which is observed, and as a result, information regarding these units is obtainable.</p>
</div>
<p>Thus, taken together we are interested in a particular population. We are typically unable to observe our population in full, and instead content ourselves with the capacity to view a subset of this population, which is referred to as a sample. Generally speaking, we are interested in some numeric quantities which describe the population. Perhaps we wish to know the average height of students in a school, or the total number of calls that are made at a company over a period of time, or the maximum litter size for a breed of house cats, or the proportion of defective units produced during a manufacturing run. In each of these situations, the question of interest relates to a quantity describing the population. If we were able to view the entirety of the population, we could simply compute the value of quantity. We refer to such quantities as <strong>parameters</strong>.</p>
<div id="def-parameter" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.6 (Parameter)</strong></span> A parameter is a numeric quantity of interest which is defined for a population. A parameter captures the behaviour of the population. Typically, the value of parameters will be unknown and unknowable.</p>
</div>
<p>The fact that parameters are generally unknowable is the central tension at the heart of many statistical problems. To resolve this tension we turn our focus towards quantities which can be computed, namely those which are derived from samples that we have taken. These quantities are aptly named <strong>statistics</strong>.</p>
<div id="def-statistics-quantity" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.7 (Statistics (Quantities))</strong></span> A statistic is a numeric quantity of interest that is computed on a sample. Any quantity which is calculated based on observed data from a sample is a statistic.</p>
</div>
<p>In this regard, Statistics as a subject is the study of statistics (as quantities). For instance, if we take the average height of a group of students, or the number of calls made by a selection of employees during a period of time, or the maximum size that a particular cat breeder has for a litter, or the proportion of defective products from a random selection of items sampled from a manufacturing run, each of these are statistics. Note that to differentiate a statistic from a parameter we are functionally differentiating between whether the quantity was computed on a sample or a population. There is no difference in the quantity itself, it is what the quantity is computed with respect to.</p>
<p>Thus, with these definitions we are able to concretely outline the process of statistics. We have interest in a particular population, conceptual or otherwise. Specifically, we have questions which are answered by parameters defined for this population. These parameters are unknowable since it is infeasible to observe all members of the population, and so instead we turn to taking observations for subsets of the population. These subsets are called samples, and samples are observable. Once observed, we are able to compute quantities of interest on the samples, referred to as statistics. It is our hope that somehow these statistics will be representative of the underlying parameters of interest, thus allowing us to answer the questions about the populations using information from the sample.</p>
<div id="fig-population-sample" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-population-sample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.1: An overview of the process of statistics. Visualized is the complete population, which is unable to be observed in full. There exists a parameter (or parameters) of interest that are computable from this population. We take a sample (subset) of this population, and can more accurately observe this sample, allowing us to compute the value of a statistic. This statistic is meant to correspond to the parameter of interest.
</figcaption>
<div aria-describedby="fig-population-sample-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="..\graphics/ch10-population-sampling.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;10.1: An overview of the process of statistics. Visualized is the complete population, which is unable to be observed in full. There exists a parameter (or parameters) of interest that are computable from this population. We take a sample (subset) of this population, and can more accurately observe this sample, allowing us to compute the value of a statistic. This statistic is meant to correspond to the parameter of interest."><img src="..\graphics/ch10-population-sampling.svg" class="img-fluid figure-img"></a>
</div>
</figure>
</div>
<div id="exm-process-of-statistics" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.3 (Experiments in the Coffee Shop)</strong></span> Charles and Sadie, fully bought into the process of statistics, decide to put their new knowledge to the test. To do so they wish to determine how the process of statistics would apply to the world around them, in the coffee shop. For each of the following scenarios indicate what the population of interest would be, whether it is conceptual or concrete, identify the parameter of interest, a possible sample of size <span class="math inline">\(4\)</span>, and the relevant statistic.</p>
<ol type="a">
<li>To understand the daily traffic in the coffee shop, Charles counts the number of individuals who pass into the store in a particular hour.</li>
<li>To better understand the profitability of the store, Sadie collects the receipt totals for each of the customers arriving at the coffee shop.</li>
<li>To understand how the coffee shop has integrated into the community, both Charles and Sadie monitor the proportion of customers who are students at the local school, each day.</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>The population of interest is the customers of the coffee shop. This is a conceptual population. The parameter of interest is the average number of customers per day arriving at the coffee shop. Notably, Charles is measuring the average number per hour rather than per day, but this could be accommodated for during the analysis. Samples of size <span class="math inline">\(4\)</span> would observe watching four separate hours, and counting the number of customers in the store each hour: one possibility would be <span class="math inline">\(\{5, 35, 3, 22\}\)</span>. The statistic calculated is likely the average per hour (or a scaled version to convert it to the day). Based on the sample that is <span class="math inline">\(16.25\)</span>.</li>
<li>The population of interest is the purchases made at the coffee shop. This is a conceptual population. The parameter of interest is the average size of a purchase. Samples of size <span class="math inline">\(4\)</span> would include any four observations of totals that could be observed at the store, perhaps <span class="math inline">\(\{\$1.20, \$23.18, \$14.21, \$5.87\}\)</span>. The statistic of interest would be the average size of the transaction. Based on the sample that is <span class="math inline">\(\$11.115\)</span>.</li>
<li>Here, the population of interest is the customers of the coffee shop. This is a conceptual population. The parameter of interest is the proportion of customers who are students at the local school. A sample of size <span class="math inline">\(4\)</span> would be any four proportions observed from the day, perhaps <span class="math inline">\(\{0.2, 0.1, 0.08, 0.25\}\)</span>. The statistic of interest is the average proportion, based on the sample that is <span class="math inline">\(0.1825\)</span>.</li>
</ol>
</div>
</div>
</div>
</div>
<p>With this process outlined, we can revisit the roles that statistics will serve. Ultimately, our goal is to effectively use collected data<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> to discern and communicate information. We look to do this by:</p>
<ol type="1">
<li><strong>describing</strong> the collected data, conveying the information that we have gathered;</li>
<li><strong>inferring</strong> conclusions about our population parameters from our sample statistics;</li>
<li><strong>predicting</strong> out-of-sample observations, based on the sampled ones; or</li>
<li><strong>prescribing</strong> interventions for the population to influence a parameter.</li>
</ol>
<p>The value in each of these applications stems from the capacity that we have to connect the sample to the population. As a result, much of our statistical focus centers on finding ways to ensure that our conclusions drawn from our sample are reflective of the overall population.</p>
<p>To understand how this is possible, consider an experiment which seeks to determine whether a particular coin is fair. Suppose that we toss it <span class="math inline">\(100\)</span> times, and see <span class="math inline">\(54\)</span> heads. Is this a fair coin? While we cannot be entirely sure, this seems to be more-or-less in line with the number of heads that we would expect to see if the coin were fair. There is uncertainty present, but we can be more certain that this is a fair coin compared to our beliefs prior to running the experiment. Now imagine that instead of seeing <span class="math inline">\(54\)</span> heads on <span class="math inline">\(100\)</span> tosses, we had seen <span class="math inline">\(94\)</span>. Immediately we should be skeptical that this coin is fair. It is perfectly possible that we see <span class="math inline">\(94\)</span> heads on <span class="math inline">\(100\)</span> tosses of a fair coin<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>, but it is not likely. It does not seem to be what we would expect to observe, and as a result, we are right to be skeptical of this.</p>
<p>This intuitive connection between what we can say about the population and the sample relies upon the sample being representative of the population. We would not take flips from another coin to be evidence of whether our coin is biased. We would not consider the sample to be particularly representative if instead of writing down every result, we ignored every time that more than one tail came up in a row. The intuitions we have about the relationship between our sample and our population rely on the assumption that the sample represents the population in some meaningful sense. Choosing a representative sample is, as a result, an important aspect of the statistical process.</p>
</section>
<section id="sampling" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="sampling"><span class="header-section-number">10.3</span> Sampling</h2>
<p>Sampling is an area of study within statistics which focuses on the process through which units are recruited from the population into our sample. If the units we observe are biased in some way, or are inappropriately recruited, then it is immediately clear that conclusions drawn about the sample will not be transportable to the population. Imagine, for instance, that we are interested in the height of students at a university. If our sample contains only members of the basketball and volleyball teams, this will not be reflective of the heights of most students at the school. Our sample is unrepresentative. With sampling our goal is to select the sample in such a way to make guarantees about the information we learn from it, quantifying our uncertainty, and being relatively confident in our conclusions.</p>
<p>When we deal with populations which are conceptual in nature it may make less sense to think of sampling directly. For instance, it seems strange to think of our previous example of repeatedly rolling a die in the same manner that we think of recruiting students and measuring their heights. In the case where we wish to learn about a process rather than a concrete population, we will often frame the generation of our sample not through the language of <em>sampling</em> but rather through the language of <strong>experimental design</strong>. The design of experiments refers to the same set of factors that are considered for sampling: how can we ensure that the units we observe will be representative of the underlying population or process. However, with experimental design it is largely the case that we are in direct control of the types of factors that may lead our process to being unrepresentative. It is up to us to ensure that the units that are being generated, through the conceptual population, are representative of the units we are interested in based on the research question.</p>
<p>Our focus in this class will be on investigating several of the techniques used in sampling and experimental design to ensure that the samples we use are related to the population of interest in predictable ways. It will always be possible that, even following best practices and being very careful with our implementation, we end up choosing a sample or having experimental units which are non-representative. This is uncertainty which is unavoidable in any scientific inquiry. Our goal then is to understand this uncertainty, to quantify it, and to ensure that we are able to understand precisely how big of a risk is this lack of representation, and how that will change the results we can report. We begin by describing techniques which can be used to ensure that samples are good representations for the populations of interest. In the next section, we will turn to the same types of considerations for experimental design.</p>
<section id="simple-random-sampling" class="level3" data-number="10.3.1">
<h3 data-number="10.3.1" class="anchored" data-anchor-id="simple-random-sampling"><span class="header-section-number">10.3.1</span> Simple Random Sampling</h3>
<p>When considering the process of data collection via sampling, the primary decision to make is on the <strong>sampling design</strong>. The sampling design refers to the strategy that is employed to decide which members of the population will comprise the sample. Some sampling designs will not result in valid or representative samples. The most straightforward sampling design, which, if applied correctly, will produce valid samples is simple random sampling.</p>
<div id="def-simple-random-sampling" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.8 (Simple Random Sampling)</strong></span> Simple random sampling is a sampling procedure in which each possible sample of a given size is equally likely to be obtained.</p>
</div>
<p>Simple random sampling produces a <strong>simple random sample</strong>. Simple random sampling is far and away the most important sampling scheme. It is an effective way of drawing a representative sample itself, it is intuitive, and it forms the basis of many other, more complex sampling schemes. Generally, we can think of simple random sampling as <strong>sampling without replacement</strong>.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> Suppose we take our population to correspond to items in an urn, each labelled with the corresponding unit. Then a simple random sample is typically formed by selecting <span class="math inline">\(n\)</span> items from the urn without replacement. Those which are selected form the sample. If desired, for any reason at all, it is possible to form a simple random sample <strong>with replacement</strong>, where in this setting the balls would be placed back into the urn after each selection. Whether the sample is to be formed with or without replacement, the same general procedure will be followed. Each member of the population will get assigned a numeric label (from <span class="math inline">\(1\)</span> through to <span class="math inline">\(N\)</span>, the population size) and then software is used to select a subset of <span class="math inline">\(n\)</span> of the labels.</p>
<div id="exm-sadie-samples-drinks" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.4 (Rating Coffee Orders)</strong></span> Charles and Sadie are still attending the coffee shop, and Charles is still working through the <span class="math inline">\(960\)</span> different orders that are available (recall <a href="chapter3.html#exm-counting-coffee-orders" class="quarto-xref">Example&nbsp;<span>3.5</span></a>). Sadie, with a stronger grasp on statistics now, decides to try to understand the general quality of orders at the coffee shop. To do so, instead of ordering every possible meal (as Charles is doing), Sadie considers a simple random sample of possible orders.</p>
<ol type="a">
<li>Suppose that Sadie wants to understand the quality based on the next twenty visits to the coffee shop. Describe the procedure for forming a simple random sample.</li>
<li>What is the probability that Sadie’s current order will be one of the orders included in the simple random sample?</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>Sadie desires a simple random sample of size <span class="math inline">\(n=20\)</span> from the <span class="math inline">\(N=960\)</span> different orders. To do so, suppose that we order each of the orders from <span class="math inline">\(1,2,\dots,960\)</span> (perhaps ordered based on the order in which Charles will try them). Then Sadie will randomly select, without replacement, <span class="math inline">\(20\)</span> numbers from these values. These orders will then be taken over the next twenty visits, with Sadie recording whatever information is relevant for each of them. For instance, Sadie may end up select the orders corresponding to:</li>
</ol>
<div class="cell">
<pre><code>##  [1] 834 499 529 376 910 931 549 620 623 169 419 754 296  80 276 342 918 855 265
## [20]  87</code></pre>
</div>
<ol start="2" type="a">
<li>Sadie’s current order is <span class="math inline">\(1\)</span> of the possible options of the <span class="math inline">\(960\)</span>. While we can work this out from first principles, we can also take this to be a hypergeometric random variable with <span class="math inline">\(n=20\)</span>, <span class="math inline">\(N=960\)</span>, and <span class="math inline">\(M=1\)</span>. Then we want <span class="math inline">\(P(X = 1)\)</span>. For this, using the probability mass function of a hypergeometric random variable, we get <span class="math display">\[P(X = 1) = \frac{\binom{1}{1}\binom{959}{19}}{\binom{960}{20}} = \frac{1}{48}.\]</span> Note this is <span class="math inline">\(\dfrac{20}{960} = \dfrac{n}{N}\)</span>. In general, this will be true for <strong>any</strong> simple random sample.</li>
</ol>
</div>
</div>
</div>
</div>
<p>There is an appeal in the simplicity of simple random sampling. Moreover, it is quite clear how, as long as enough units are sampled, simple random sampling will result in a sample which is representative of the overall population. Despite these benefits, there are some drawbacks that are not easily overcome in the simple random sampling paradigm. For instance, if you imagine a situation in which your sample is spread over a large geographic region, it is unlikely to be practical to form a simple random sample. Additionally, if you do not have a list of all population members, a simple random sample cannot be formed as described.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> Another practical concern involves sampling in this regard when units have a natural ordering. Suppose that you are looking to test the impact of a new cancer therapy, and wish to form a sample of current cancer patients who will receive the experimental treatment to see if it improves over the current practice. If you form through simple random sampling it is possible that you will have only patients who are newly diagnosed or else only patients who have had their diagnosis for a long time. Neither situation is a particularly effective method for testing the therapy, and it becomes a large practice issue where you likely want to ensure that you have both sets of individuals represented in the sample.</p>
<p>To overcome these issues with simple random sampling, alternative sampling designs have been proposed. These alternatives can lead to more convenience in the sampling, and perhaps yield more accurate results than a simple random sample can. It is important to note that these alternative designs are only more effective when the design itself is taken into account when analyzing or describing the data.</p>
</section>
<section id="systematic-random-sampling" class="level3" data-number="10.3.2">
<h3 data-number="10.3.2" class="anchored" data-anchor-id="systematic-random-sampling"><span class="header-section-number">10.3.2</span> Systematic Random Sampling</h3>
<p>One alternative design to simple random sampling, which is closely related, is known as systematic random sampling.</p>
<div id="def-systematic-rs" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.9 (Systematic Random Sampling)</strong></span> In systematic random sampling the sample is selected by choosing a random starting point from the list of members of the population, and then sampling every <span class="math inline">\(k\)</span>th member until the desired sample size is reached.</p>
</div>
<p>Systematic sampling forms a sample that looks like a simple random sample, but it is more straightforward to implement. If you want a sample of size <span class="math inline">\(50\)</span> from a population of size <span class="math inline">\(500\)</span>, then by selecting every <span class="math inline">\(10\)</span>th member of the population, you will achieve the sample you desire. You want to be able to pick any individual from the population, and so you should randomly select the starting point before picking every <span class="math inline">\(10\)</span>th member. Selecting every <span class="math inline">\(10th\)</span> individual is more straightforward administratively than generating random numbers and sampling those indices, particularly when there is a natural ordering of the individuals. However, there are some implementation decisions which need to be made, notably: what should <span class="math inline">\(k\)</span> be, and who should be the first individual included? It is common to have the process of systematic random sampling described as follows.</p>
<ol type="1">
<li>Divide the population size, <span class="math inline">\(N\)</span>, by the desired sample size, <span class="math inline">\(n\)</span>, and round the result down to the nearest whole number. This will be <span class="math inline">\(k\)</span>.</li>
<li>Select a number, <span class="math inline">\(m\)</span>, randomly between <span class="math inline">\(1\)</span> and <span class="math inline">\(k\)</span>. This will be the starting point.</li>
<li>Include in the sample <span class="math inline">\(m\)</span>, <span class="math inline">\(m+k\)</span>, <span class="math inline">\(m+2k\)</span>, and so forth until the last unit of the sample.</li>
</ol>
<p>This will generally form a usable sample, if its shortcomings are properly accounted for. However, it is not without its shortcomings as a procedure.</p>
<p>To understand why this can lead to issues suppose that we have <span class="math inline">\(N=7\)</span>, and want to form a sample of size <span class="math inline">\(n=3\)</span>. Using this procedure we get <span class="math inline">\(k=2\)</span>, as the result of rounding down <span class="math inline">\(\dfrac{7}{3}=2.33\dot3\)</span>. Next, we select either <span class="math inline">\(1\)</span> or <span class="math inline">\(2\)</span> as our starting point. If we select <span class="math inline">\(1\)</span> then we end up including <span class="math inline">\(\{1,3,5\}\)</span> and if we select <span class="math inline">\(2\)</span> then we get <span class="math inline">\(\{2,4,6\}\)</span>. Note that in we will never select item number <span class="math inline">\(7\)</span>, which means that there is no chance it is represented in our sample. This is a problem. There are plenty of ways to resolve this concern, some of which lead to other issues themselves.</p>
<p>One small modification that can be made is to select <span class="math inline">\(m\)</span> between <span class="math inline">\(1\)</span> and <span class="math inline">\(N-(n-1)k\)</span>.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> This will ensure that it is always possible to select up to the last unit. In our example with <span class="math inline">\(N=7\)</span> and <span class="math inline">\(n=3\)</span>, the starting point is selected from <span class="math inline">\(1,2,3\)</span> giving in addition to the two possibilities outlined above, <span class="math inline">\(\{3,5,7\}\)</span> as a third option. This alleviates the issues of not including some members of the population in any possible sample. When this technique is used, however, it is worth noting that some elements become more likely to be included than the others.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> This can be accounted for during analysis, but it needs to be completely understood to do so.</p>
<div id="exm-systematic-sampling" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.5 (Randomly Sampling Customer Experience)</strong></span> Sadie, content with the results of the simple random sampling of possible meals, decides to try to understand the overall customer satisfaction of individuals coming into the coffee shop. Charles suggests that a systematic sample may be in order, and they set out planning this.</p>
<p>Suppose that Charles and Sadie expect there to be <span class="math inline">\(98\)</span> customers arriving in a day, and they wish to sample <span class="math inline">\(10\)</span> of them.</p>
<ol type="a">
<li>Describe the process of forming a systematic sample from this population, including the specific values for the choices that are made.</li>
<li>What is a risk of this sampling design?</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>Here we have <span class="math inline">\(N=98\)</span> and want <span class="math inline">\(n=10\)</span>, thus we take <span class="math inline">\(k = \lfloor\dfrac{98}{10}\rfloor = 9\)</span>. We want to select the starting value between <span class="math inline">\(1\)</span> and <span class="math inline">\(98 - 9\times(10-1) = 98 - 81 = 17\)</span>. Thus, there are a total of <span class="math inline">\(17\)</span> different samples we could wind up with. These are summarized as follows:</li>
</ol>
<div class="cell">
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
##  [1,]    1   10   19   28   37   46   55   64   73    82
##  [2,]    2   11   20   29   38   47   56   65   74    83
##  [3,]    3   12   21   30   39   48   57   66   75    84
##  [4,]    4   13   22   31   40   49   58   67   76    85
##  [5,]    5   14   23   32   41   50   59   68   77    86
##  [6,]    6   15   24   33   42   51   60   69   78    87
##  [7,]    7   16   25   34   43   52   61   70   79    88
##  [8,]    8   17   26   35   44   53   62   71   80    89
##  [9,]    9   18   27   36   45   54   63   72   81    90
## [10,]   10   19   28   37   46   55   64   73   82    91
## [11,]   11   20   29   38   47   56   65   74   83    92
## [12,]   12   21   30   39   48   57   66   75   84    93
## [13,]   13   22   31   40   49   58   67   76   85    94
## [14,]   14   23   32   41   50   59   68   77   86    95
## [15,]   15   24   33   42   51   60   69   78   87    96
## [16,]   16   25   34   43   52   61   70   79   88    97
## [17,]   17   26   35   44   53   62   71   80   89    98</code></pre>
</div>
<ol start="2" type="a">
<li>This sampling design has several risks. The first is that there is no guarantee that <span class="math inline">\(N=98\)</span> is the correct population size. As a result, this could end up not producing <span class="math inline">\(n=10\)</span> or having <span class="math inline">\(n=10\)</span> before the end of the day. A second possible issue is if there are temporal patterns to customers arriving, such that groups of customers are missed with high probability. Cyclical patterns do not lend themselves well to systematic sampling, and it is plausible that customer arrivals to a coffee shop may exhibit some cyclical tendencies.</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="cluster-sampling" class="level3" data-number="10.3.3">
<h3 data-number="10.3.3" class="anchored" data-anchor-id="cluster-sampling"><span class="header-section-number">10.3.3</span> Cluster Sampling</h3>
<p>While systematic sampling can be a more straightforward method for implementing a sample that looks like a simple random sample, it is generally not going to alleviate concerns with (for instance) geographic separation. In this case the issue with either of the two aforementioned sampling schemes is that they each would take substantial resources to send researchers to the area where the units to be sampled are. A remedy to this is to turn to <strong>cluster sampling</strong>.</p>
<div id="def-cluster-sampling" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.10 (Cluster Sampling)</strong></span> In cluster sampling individuals are grouped together into <em>clusters</em>. The clusters are then sampled at random, according to a simple random sampling scheme. Any selected cluster is then sampled in full.</p>
</div>
<p>For instance, you may define clusters based on the geographic region that is occupied. This way you can ensure, for instance, that you only visit a set number of geographic regions, while still sampling enough individuals to collect useful data. A key criterion for cluster sampling to be valid is that each cluster should represent the overall population well. This can be an issue where members of a cluster are often more similar to one another than to members of other clusters. As a result, you can end up with an unrepresentative sample owing to the clustered nature of the sampling. In order to form a cluster sample, the procedure is essentially equivalent to simple random sampling. First, the population is divided into groups (clusters) which are labelled from <span class="math inline">\(1\)</span> through to the number of clusters that there are. Then, the clusters are randomly sampled, according to a simple random sample. Finally, all members of the selected clusters are included into the overall sample.</p>
<div id="exm-clustered-sample" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.6 (Charles and Sadie Sample their City)</strong></span> Charles and Sadie are reflecting upon the chocolate bars that they sold for charity in the past. They want to understand the feelings that members of their city have towards charitable giving. They feel that sampling <span class="math inline">\(300\)</span> homes is a useful number, but given that they will be going door-to-door, they want to do this in a clustered pattern. The city is made up of <span class="math inline">\(947\)</span> blocks, each with <span class="math inline">\(20\)</span> homes on it.</p>
<ol type="a">
<li>Describe how Charles and Sadie could use clustered sampling to form the sample that they desire.</li>
<li>What issues may arise using clustered sampling in this way?</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>Here we have <span class="math inline">\(N=18940\)</span> and we want a sample of <span class="math inline">\(n=300\)</span>. In order to achieve <span class="math inline">\(n=300\)</span>, we require selecting <span class="math inline">\(15\)</span> clusters, since each cluster has <span class="math inline">\(20\)</span> homes in it. Thus, Charles and Sadie should label the blocks <span class="math inline">\(1\)</span> through <span class="math inline">\(947\)</span>, and then select <span class="math inline">\(15\)</span> of these at random. Once the <span class="math inline">\(15\)</span> blocks are selected, all <span class="math inline">\(20\)</span> homes on each should be visited. One possible sample would be:</li>
</ol>
<div class="cell">
<pre><code>##  [1] 834 499 529 376 910 931 549 620 623 169 419 754 296  80 276</code></pre>
</div>
<ol start="2" type="a">
<li>A major issue with this type of clustering is that homes that are on the same block are likely to be fairly homogenous. That is, city blocks will often be divided by socioeconomic status, education, and other demographic factors. As a result, selecting a full cluster is not likely to give a representative cross-section of the complete city, and instead, is likely to be skewed based on which clusters happen to be included. It seems very likely that with a survey investigating thoughts towards charitable giving, socioeconomic factors will play a role.</li>
</ol>
</div>
</div>
</div>
</div>
<p>The major concern with cluster sampling is that, if the clusters are grouped together based on relevant information, the sample becomes predictably unrepresentative of the overall population. Because the clusters are often naturally formed based on a relevant factor (like geographic location), if this factor influences the topic that is being studied, the clustering design will influence the validity of the results. Still, cluster sampling, when done correctly, alleviates many of the difficulties with practically implementing a simple random sample.</p>
<div class="proof remark">
<p><span class="proof-title"><em>Remark</em> (Systematic Sampling as Cluster Sampling). </span>Mathematically, systematic sampling can be seen as a particular form of cluster sampling. To see this note that, once <span class="math inline">\(k\)</span> and <span class="math inline">\(m\)</span> are defined, the set of individuals who are included in any given sample are completely defined and grouped together. As a result, you could preform these groupings of individuals, and treat those as clusters together. Then, instead of sampling individuals, you are sampling a cluster of individuals.</p>
<p>The key difference between cluster sampling and systematic sampling is that the clusters in systematic sampling are not typically naturally defined. There is not normally going to be a clear separation forming the groups in this way, and as a result, it may not be easier to run a geographically isolated systematic sample than it is to run a geographically isolated simple random sample. However, the understanding of equivalence mathematically is useful when data from these samples are to be analyzed as the tools from cluster random sampling can be put to use to validly analyze systematic data.</p>
</div>
</section>
<section id="stratified-random-sampling" class="level3" data-number="10.3.4">
<h3 data-number="10.3.4" class="anchored" data-anchor-id="stratified-random-sampling"><span class="header-section-number">10.3.4</span> Stratified Random Sampling</h3>
<p>The key issue with cluster sampling is that natural clusters of individuals typically exhibit self-similarity. This is an issue when your sample is formed via complete clusters, however, it can be turned into a benefit to ensure a greater reliability of the sample itself. Exploiting this self-similarity leads to a sampling technique known as stratified sampling.</p>
<div id="def-stratified-sampling" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.11 (Stratified Sampling)</strong></span> In stratified sampling the population is divided into <em>subpopulations</em> known as strata. These strata should be comprised of groups of similar individuals. A simple random sample is formed within each stratum, and each of the simple random samples are combined to form the overall sample.</p>
</div>
<p>The major benefits of stratified sampling are two-fold. First, you will typically have more precision in your conclusions being drawn than from other sampling schemes. The reason being that individuals within a stratum will be similar to one another, and so the variability that will arise based on which individuals are included is smaller than in other sampling schemes. Second, you are able to split your data into the different subpopulations describing results and conclusions for each group of individuals. This allows us to make conclusions both at the population level as a whole, but also at the subpopulation level, which is often of direct interest.</p>
<p>To implement stratified sampling, you need to decide how many individuals will be sampled within each stratum. A simple but effective way of doing this is to use <strong>proportional allocation</strong>. With proportional allocation the strata that are larger will have more members sampled than the strata which are smaller, which is a natural decision to make. To implement stratified random sampling with proportional allocation: 1. Divide the population into strata, based on a relevant and natural dividing criteria. 2. Within each stratum, conduct a simple random sample of size <span class="math inline">\(n_j\)</span>, where <span class="math inline">\(n_j\)</span> is given by <span class="math inline">\(n\times\frac{N_j}{N}\)</span>, where <span class="math inline">\(n\)</span> is the desired sample size, <span class="math inline">\(N_j\)</span> is the size of the <span class="math inline">\(j\)</span>th strata, and <span class="math inline">\(N\)</span> is the size of the population as a whole. This should be rounded to the nearest whole number. 3. Form the sample by including all members from each of the sampled strata.</p>
<div id="exm-stratified-sampling" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.7 (Charles and Sadie Push for Transportation Infrastructure)</strong></span> Charles and Sadie have faced some push-back on their attempts to increase access to well-funded public transportation options within their city. To understand better where the resistance is coming from, they decide to conduct a survey of households in the town. There are <span class="math inline">\(18940\)</span> total homes in the city, and Charles and Sadie figure that perhaps household income levels will influence opinions on investments in public infrastructure. Charles and Sadie categorize <span class="math inline">\(940\)</span> of these households as high income, <span class="math inline">\(10000\)</span> as middle income, and the remaining <span class="math inline">\(8000\)</span> as low income. Suppose that they want a sample of size approximately <span class="math inline">\(75\)</span> from this population.</p>
<ol type="a">
<li>Describe how a stratified sample can be formed in this setting.</li>
<li>What potential drawbacks are there with using stratified sampling here?</li>
<li>What other factors may have been useful to segment the population into natural strata?</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>This population is made up of three strata, with <span class="math inline">\(N_1 = 940\)</span>, <span class="math inline">\(N_2 = 10000\)</span>, and <span class="math inline">\(N_3 = 8000\)</span>. Using proportional allocation this will result in a sample from the first of size <span class="math inline">\(n_1 = \dfrac{940}{18940}\times 75 = 3.7 \approx 4\)</span>. For the second we get <span class="math inline">\(n_2 = \dfrac{10000}{18940}\times 75 = 39.6 \approx 40\)</span>. For the third we get <span class="math inline">\(n_3 = \dfrac{8000}{18940}\times 75 = 31.6 \approx 32\)</span>. Taken together this gives <span class="math inline">\(76\)</span> as the sample size, which is close to desired. Then, three separate simple random samples are to be formed. The first is a sample of <span class="math inline">\(4\)</span> homes randomly selected from the numbers, <span class="math inline">\(\{1,\dots,940\}\)</span>, the second is <span class="math inline">\(40\)</span> homes randomly selected from <span class="math inline">\(\{1,\dots,10000\}\)</span> middle income homes, and the remaining <span class="math inline">\(32\)</span> are selected from <span class="math inline">\(\{1,\dots,8000\}\)</span> from the low income households. These three groups are combined, and interviewed to form the overall sample.</li>
<li>The major drawback is that this is likely to result in a costly sampling scheme. Specifically, as contrasted with the cluster sampling in <a href="#exm-clustered-sample" class="quarto-xref">Example&nbsp;<span>10.6</span></a>, there is no guarantee that Charles and Sadie would not be required to travel across many of the blocks in their city. It is possible that to visit the <span class="math inline">\(76\)</span> households, they have to visit <span class="math inline">\(76\)</span> different blocks, which greatly increases the cost of administering the sample as described.</li>
<li>It may have also been useful to stratify the population, for instance, based on vehicle ownership, based on commuter status, or based on political leanings. Each of these is likely to be relevant to subgroup analyzes, while also reducing the variability within the strata themselves.</li>
</ol>
</div>
</div>
</div>
</div>
<p>While stratified samples are often the most efficient samples, statistically, they do not alleviate many of the practical concerns regarding simple random samples. In fact, in some cases, these issues may even be exacerbated. If, for instance, strata are formed on the basis of geographic location, then forming a stratified sample will guarantee that it is required to visit each geographic location. The sampling scheme which is selected should be concordant with the goals of the analysis as well as the restrictions and constraints that are at play.</p>
</section>
<section id="multistage-sampling" class="level3" data-number="10.3.5">
<h3 data-number="10.3.5" class="anchored" data-anchor-id="multistage-sampling"><span class="header-section-number">10.3.5</span> Multistage Sampling</h3>
<p>Sometimes the nature of the population, question of interest, or constraints at play render any single sampling design ineffective to construct a useful sample. In these cases multistage sampling can be an effective way of tailoring the sampling design to the specific requirements.</p>
<div id="def-multistage-sample" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.12 (Multistage Sampling)</strong></span> In multistage sampling one or more of the discussed sampling techniques are combined into a multistage procedure to effectively and efficiently target the population of interest. Multistage sampling may combine simple random sampling, systematic random sampling, cluster sampling, or stratified sampling in different sequences and orders to achieve a custom-specified sampling scheme.</p>
</div>
<p>For example, household surveys are commonly run. To do so, a researcher may randomly sample cities in the area of interest. Within those cities, they may stratify based on region in the city, and within each region cluster based on the blocks. Then, a simple random sample within the blocks is taken, and those households are selected. This sampling scheme can be understood in relation to each of the component sampling schemes, and creates a flexible way of constructing a sampling scheme which meets the needs of the situation.</p>
</section>
</section>
<section id="experimental-design" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="experimental-design"><span class="header-section-number">10.4</span> Experimental Design</h2>
<p>While sampling is often a useful framing for collecting data, there are times when our goal is not to simply understand the way that a population is, but rather to understand the impact of particular intervention. Consider, for instance, studies which look at the efficacy of medical treatments, the utility of new fertilizers on agricultural yield, or the impact of political interventions on climate change. In each of these cases we are not interested in the current state of a population, but rather how some action influences the state of a population. For this, we turn to the process of experiment design. In experimental design we seek to understand how <strong>experimental units</strong> have their <strong>response variables</strong> impacted, based on the <strong>levels</strong> of particular <strong>factors</strong>, or <strong>treatments</strong>. In plain language our goal is to understand how specific interventions influence some trait in a population. To proceed we formally define each of these concepts.</p>
<div id="def-experimental-unit" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.13 (Experimental units)</strong></span> Individuals or items upon which the experiment is being performed. If the experimental units are humans, we will often call them subjects or patients, in place of units.</p>
</div>
<div id="def-response-variable" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.14 (Response Variable)</strong></span> The characteristic or trait of the experimental unit that is measured or observed. The experiment’s purpose is to understand how a response variable reacts to a particular intervention.</p>
</div>
<div id="def-factor" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.15 (Factor)</strong></span> A variable whose effect on the response variable is of interest. The factor is the variable which is being controlled or manipulated within the experiment, and is the <em>cause</em> of the change in response variables.</p>
</div>
<div id="def-levels" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.16 (Levels)</strong></span> The possible values of a factor. We are often comparing two or more levels of the factor, determining how specific levels impact the response variable.</p>
</div>
<div id="def-treatment" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.17 (Treatment)</strong></span> A treatment refers to the complete experimental condition. That is, the set of all levels across all factors that are assigned to an experimental unit. In one-factor experiments, this is the levels of the single factor. In multifactor experiments, a treatment is a combination of the levels of the factors.</p>
</div>
<p>In an experiment, experimental units are observed after having been given the treatment. The response variable is measured, and compared across the different levels of the factors (or across the different treatments) to determine how the various treatments impact the outcome. In a well-structured experiment it is possible to conclude that the treatment <em>causes</em> a particular impact on the response variable, so long as the analysis takes into account the limitations of the experiment that was run.</p>
<div id="exm-treatments" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.8 (Sadie’s House Plant Growth)</strong></span> Sadie has become very interested in understanding the conditions under which houseplants will thrive. Through some informal experimentation Sadie believes that the frequency of watering, type of fertilizer, and amount of sunlight are all important factors in the plant growth. Sadie is predominantly interested in determining the impact on the height of the plants.</p>
<ol type="a">
<li>Indicate the experimental units, response variable, factor(s), possible level(s), and treatment(s) in this proposed experiment.</li>
<li>Indicate further examples of response variables and factors that may be relevant to Sadie’s question of interest.</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>In this experiment, the units are the houseplants that Sadie is watching. The response variable will be the height of the plants (measured in, for instance, centimeters). The factors under consideration are the frequency of watering, type of fertilizer, and the amount of sunlight. Some possible levels for frequency of watering may be weekly, versus biweekly, versus monthly. Some possible levels for type of fertilizers may be natural compost, synthetic compost, or no fertilizer. Some possible levels for the amount of sunlight may be direct, indirect, or no sunlight. The treatments will consist of the combinations of the different levels for the three outlined factors (for instance, weekly watering, with natural compost, and direct sunlight; weekly watering, with natural compost, and indirect sunlight; etc.). If these levels are considered, then there will be a total of <span class="math inline">\(3\times 3 \times 3 = 27\)</span> treatments under consideration.</li>
<li>Sadie may instead wish to measure something like leaf size, or stem width, or number of flowering plants. Each of these will produce different results, and will be useful for slightly different sets of considerations that Sadie may have. For other factors, Sadie may consider the pot size, or perhaps exposure to other stimulus.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></li>
</ol>
</div>
</div>
</div>
</div>
<section id="the-principles-of-experimental-design" class="level3" data-number="10.4.1">
<h3 data-number="10.4.1" class="anchored" data-anchor-id="the-principles-of-experimental-design"><span class="header-section-number">10.4.1</span> The Principles of Experimental Design</h3>
<p>Just as there were many different schemes for constructing a sample, there are also many different experimental designs. We will explore two common designs, but it is useful to first understand the guiding philosophy of experimentation in Statistics. There are three key factors that ensure that data collected from an experiment are useful for drawing scientific conclusions.</p>
<p>First, is the idea of statistical control. It is not enough to know whether a particular treatment was followed by a positive response in the response variable. Instead, we require there to be some point of comparison. We call this point of comparison a statistical <strong>control</strong>. The idea is that we should always be comparing two or more treatments, even when our interest is in one particular treatment. If the treatment of interest is truly beneficial, we should be able to see this by comparison to other treatments. This way, we are able to ensure that the changes in the response variable that we see are related to our intervention, rather than by random chance. Sometimes we wish to see whether a particular treatment is effective, and there does not exist another treatment option that is a plausible candidate. In these cases, we will often take a treatment option to be “nothing at all”, which is to say no direct intervention on the given factor.<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> In this way our control can still be used to see if our active intervention improves over doing nothing, when that is the alternative.</p>
<p>Beyond statistical controls, experiments rely on <strong>randomization</strong> and <strong>replication</strong>. With randomization, the idea is that the treatment that each experimental unit gets should be randomly selected without consideration of the specific unit. This way unintentional selection bias can be avoided within the groups. For instance, in a medical study, if you end up giving the experimental treatment to patients who are otherwise healthier, then you may expect that the experimental treatment will produce better results not because it was more effective, but because the patients who received it are the ones who are expected to have better outcomes irrespective of treatments. In addition to randomization, replication serves a central role in experimentation. The experiment should be conducted on a sufficient number of experimental units to ensure that random noise does not cloud conclusions. In particular, the sufficient sample size will ensure that the groups created via randomization will truly resemble each other, and the more units in the study, the better able you are to discern differences which exist between treatments. These principles can be put to work across various different experimental designs, depending on the specific experimental setup and constraints that are at play.</p>
</section>
<section id="completely-randomized-design" class="level3" data-number="10.4.2">
<h3 data-number="10.4.2" class="anchored" data-anchor-id="completely-randomized-design"><span class="header-section-number">10.4.2</span> Completely Randomized Design</h3>
<p>The key question when defining an experimental design is how do the experimental units get assigned to the various treatment options. The most obvious choice is to randomly assign each unit to one of the treatment options, ignoring any underlying factors about the units. This is considered a <strong>completely randomized design</strong>.</p>
<div id="def-completely-randomized-design" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.18 (Completely Randomized Design)</strong></span> A completely randomized design is one in which the experimental units are randomly divided into groups, one for each treatment in the experiment. The treatments are then assigned to each of the groups, randomly selected for each.</p>
</div>
<p>Typically, we will consider an equal assignment of numbers of experimental units to each treatment option, though this is not strictly required. In the completely randomized design, we ignore anything that we may know about the experimental units beforehand.</p>
<div id="exm-completely-randomized-design" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.9 (Sadie’s Houseplants: Completely Randomized Design)</strong></span> Sadie is going forth with experimentation to understand how different factors impact the height of houseplants. Sadie decides to test treatments comprised of combinations of three factors: watering frequency (low frequency high volume versus high frequency low volume), fertilizer use (store bought fertilizer, versus homemade compost, versus no fertilizer), and sun exposure (direct sun exposure, versus indirect sun exposure, versus artificial light exposure). There are a total of <span class="math inline">\(72\)</span> houseplants, and Sadie wishes to use a completely randomized design.</p>
<p>Describe how this experiment can proceed as outlined by Sadie.</p>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>There are a total of <span class="math inline">\(2\times3\times 3 = 18\)</span> different treatment options. This means that for each treatment option, <span class="math inline">\(\dfrac{72}{18} = 4\)</span> houseplants should be assigned to it. We can form these <span class="math inline">\(18\)</span> groups by sampling <strong>without replacement</strong> from the numbers <span class="math inline">\(1\)</span> through <span class="math inline">\(72\)</span>, <span class="math inline">\(4\)</span> at a time. Each number is assigned to one of the houseplants, and that form the groups. For instance, the <span class="math inline">\(18\)</span> groups may be:</p>
<div class="cell">
<pre><code>##       [,1] [,2] [,3] [,4]
##  [1,]   66   48   47   38
##  [2,]   17   34    1   15
##  [3,]   14    8   68   71
##  [4,]   35   26   62   42
##  [5,]   37   11   61    2
##  [6,]   72    4   19   67
##  [7,]   41   64   18   25
##  [8,]   69   39   10   70
##  [9,]   50   53   30   33
## [10,]   40   29   31   24
## [11,]   16   49   32   36
## [12,]   20   44   55   51
## [13,]   22   65   59   54
## [14,]   60    6   13   45
## [15,]   23    3   52   46
## [16,]    9    5   43   57
## [17,]   58   28   63    7
## [18,]   56   27   21   12</code></pre>
</div>
<p>Then, each of the groups gets assigned one of the treatments (low frequency/store bought/direct exposure; low frequency/store bought/indirect; low frequency/store bought/artificial; etc.). The treatments are given to the units, and then the heights are measured and recorded alongside the treatment that was assigned.</p>
</div>
</div>
</div>
</div>
<p>There are at least two shortcomings of completely randomized designs which we may wish to overcome. The first is that, in a completely randomized design, we may not be able to understand the impact on subpopulations of interest. Because randomization occurs without consideration of any other factor it is also not possible to directly analyze how treatment may impact the outcome variable segmented by these factors. While this is often not the primary question of interest, it will often be the case that having answers to these types of questions is desirable. Second, a completely randomized design may be less efficient at capturing the true effect of treatment, when treatment is mediated by other factors. If some groups of experimental units respond more favourably<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> than others, ensuring that treatment allocation is split within these groups will lead to more precise estimates of the true treatment effect. As a result, we will often turn to more involved experimental designs to allocate treatment options.</p>
</section>
<section id="randomized-block-design" class="level3" data-number="10.4.3">
<h3 data-number="10.4.3" class="anchored" data-anchor-id="randomized-block-design"><span class="header-section-number">10.4.3</span> Randomized Block Design</h3>
<p>When we wished to exploit the structure of a population in sampling, making use of systematic differences, we divided the population into groups called strata on the basis of these traits. We can do the same thing with our experimental units forming <strong>blocks</strong> of experimental units. This blocking procedure gives rise to the <em>randomized block design</em>, an alternative to a completely randomized design.</p>
<div id="def-randomized-block-design" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.19 (Randomized Block Design)</strong></span> A randomized block design assigns treatments randomly to all units within a block of experimental units. That is, the experimental units are separated into various blocks, and then within each block a completely randomized procedure is used.</p>
</div>
<p>With the use of the block design, you are able to assess not only is there an overall impact of treatment on the response variable, but also is this impact of treatment impacted<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a> through the blocking factor(s). This may be of scientific interest directly, and it also may help to ensure that random noise does not erode the ability to discern the true impact of treatment on the outcome. Typically, blocking factors will be natural factors which are suspected, or known, to influence the outcome, but which are of secondary interest to the experimenter.</p>
<div id="exm-randomized-block" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.10 (Sadie’s House Plants: Randomized Block Design)</strong></span> Of Sadie’s <span class="math inline">\(72\)</span> plants, <span class="math inline">\(18\)</span> of them are species of trees, <span class="math inline">\(18\)</span> of them are species of vines or other crawlers, and the remaining <span class="math inline">\(36\)</span> are flowering plants. If Sadie decides to test treatments comprised of combinations of three factors, watering frequency (low frequency high volume versus high frequency low volume), fertilizer use (store bought fertilizer, versus homemade compost, versus no fertilizer), and sun exposure (direct sun exposure, versus indirect sun exposure, versus artificial light exposure), how can a randomized block design to perform this experiment?</p>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Here, the type of plant is the natural blocking factor. There are <span class="math inline">\(18\)</span> different treatment options. This means that for each type of plant we perform a completely randomized design with <span class="math inline">\(18\)</span> treatments. To do so, we can assign each of the trees to a single treatment option (there are <span class="math inline">\(18\)</span> trees and <span class="math inline">\(18\)</span> treatments, so this is a matter of simply randomizing the order of treatments and assigning one to each), we can assign each of the vines to a single treatment option (same as with the trees). For the flowering plants, there are <span class="math inline">\(36\)</span> of them and <span class="math inline">\(18\)</span> treatments, so each treatment should have two different plants. If we label the flowering plants <span class="math inline">\(1\)</span> through <span class="math inline">\(36\)</span>, then we can simply draw <strong>without replacement</strong> from the numbers <span class="math inline">\(1\)</span> through <span class="math inline">\(36\)</span>, <span class="math inline">\(2\)</span> at a time. For instance, the <span class="math inline">\(18\)</span> groups may be:</p>
<div class="cell">
<pre><code>##       [,1] [,2]
##  [1,]    2   11
##  [2,]   17    4
##  [3,]   14   10
##  [4,]   36   21
##  [5,]   15    1
##  [6,]    9   29
##  [7,]    3   12
##  [8,]   18    7
##  [9,]    8   26
## [10,]   16   35
## [11,]   20   24
## [12,]   22    5
## [13,]   25   30
## [14,]   23   19
## [15,]   31   32
## [16,]   27    6
## [17,]   33   34
## [18,]   28   13</code></pre>
</div>
<p>Then, each of the groups, within each of the blocks gets assigned one of the treatments (low frequency/store bought/direct exposure; low frequency/store bought/indirect; low frequency/store bought/artificial; etc.). The treatments are given to the units, and then the heights are measured and recorded alongside the block and the treatment that was assigned.</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="data-description-and-organization" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="data-description-and-organization"><span class="header-section-number">10.5</span> Data Description and Organization</h2>
<p>Whether data are collected via sampling or experimentation, it is important to ensure that statistical principles are followed so that the observed data are representative of the population of interest and useful for accomplishing the goals of the statistical analysis. There is a substantial amount of statistical work which goes into ensuring that data collection is valid. Once valid data have been collected, we must <em>do</em> something with them. As previously discussed, there are typically four use cases for data. In these notes, our focus is on description and inference. Before we can use the data to describe patterns or conduct inference, we must first develop a shared language around what data <em>are</em>. Some of this has been informally introduced throughout our discussions thus far, however, the formal definition remains important for ensuring the foundation for statistical analyses.</p>
<div id="def-variable" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.20 (Variable)</strong></span> A characteristic or trait that can vary from one observation to the next is called a variable. Variables are the relevant pieces of information that are recorded in our data. We may have one or more variable recorded for each individual unit in our data.</p>
</div>
<div id="def-observation" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.21 (Observation)</strong></span> An observation is an individual piece of data. Our data are comprised of multiple observations across the various units in our sample (or on our experimental units).</p>
</div>
<p>Generally speaking, we make observations of variables, and together this forms our data. We use the data to answer the questions of interest or conduct our analyses. Every variable can be categorized as either a <strong>qualitative</strong> or <strong>quantitative</strong> variable. Qualitative variables are the non-numeric variables we observe, following categories or other less structured formats. Quantitative are numeric variables.</p>
<div id="def-qualitative-variable" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.22 (Qualitative Variable)</strong></span> Any variable which is not numerical, such as those which fit into categories, are referred to as qualitative variables.</p>
</div>
<div id="def-quantitative-variable" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.23 (Quantitative Variable)</strong></span> A quantitative variable is any variable which is described numerically.</p>
</div>
<p>Quantitative variables can be either discrete or continuous. We saw this distinction when working with random variables, and the distinction is equivalent in the case of variables in a collected dataset as well. A variable is considered discrete if it can take on a (countable) number of values (that can be listed). A variable is considered continuous if it can take on any value from a defined range of values. Often times, just as with random variables, we make the distinction based on how we wish to think about the variables, rather than based on the theoretical underlying truth.<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a></p>
<div id="def-discrete-var" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.24 (Discrete Variable)</strong></span> A quantitative variable which can take on values from a countable set. There are either finitely many options for the variable, or else a countably infinite number.</p>
</div>
<div id="def-continuous-var" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.25 (Continuous Variable)</strong></span> A quantitative variable that can take on an uncountably infinite number of values is called continuous. Continuous variables can theoretically take on any value over a range of values, with the possibilities unable to be enumerated.</p>
</div>
<div id="exm-variable-type" class="theorem example">
<p><span class="theorem-title"><strong>Example 10.11 (Charles and Sadie Categorize Variables)</strong></span> Charles and Sadie realize that oftentimes there are many ways of measuring qualities or traits that are of interest in a study. Upon realizing this, they begin to discuss a number of topics, considering how they may be measured.</p>
<p>For each of the following traits, discuss different options for variables that could represent the quantity discussed. For each, include possibilities which are qualitative and those which are quantitative, and specify whether the quantitative are discrete or continuous.</p>
<ol type="a">
<li>Charles suggests that there are many ways of thinking about attained education.</li>
<li>Sadie, still thinking of plants, realizes that there may be many ways of thinking about the size of different plants.</li>
<li>Based on an overheard conversation, Charles wonders how socioeconomic status may be measured.</li>
<li>Sadie, after enjoying a snack at the coffee shop, thinks about how we might measure the quality of food.</li>
</ol>
<div class="solution callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>Attained education may be a qualitative variable if it is described via categories (for instance, high school, college diploma, undergraduate degree, etc.) It could almost be made to be quantitative if, for instance, you measured the total number of years that someone had formal education for. This would be a discrete quantitative variable.</li>
<li>The size of different plants could be qualitative by using subjective sizes (for instance, small, medium, and large). It is possible to measure these quantitatively as well, for instance by considering the height or volume of the plant. Likely height and volume both are best considered continuous values, but they may be discretized in certain datasets.</li>
<li>Socioeconomic status can be a qualitative variable if, for instance, it is categorized on the basis of high/medium/low. To form a quantitative variable here you may consider household income, or wealth. Depending on how income or wealth are measured it may be discrete (for instance, counting the number of thousands of dollars) or continuous (if you listed exact dollar figures). This is an example of a variable which is <em>always</em> discrete, technically, but may be better treated as continuous.</li>
<li>Food quality could be categorically rated (bad/average/good), or on a similar graded scale (S/A/B/C/D). Alternatively, the food could be subjectively graded numerically, giving for instance a star rating (out of <span class="math inline">\(5\)</span>) or a rating out of <span class="math inline">\(100\)</span>. Likely these ratings would be discrete, but would be possible to come up with a continuous rating scale if that were desired.</li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="from-data-to-insight" class="level2" data-number="10.6">
<h2 data-number="10.6" class="anchored" data-anchor-id="from-data-to-insight"><span class="header-section-number">10.6</span> From Data to Insight</h2>
<p>Whether data are collected via sampling or via experiments, the data themselves are not particularly useful for insight. If you are presented with a large dataset, it will likely not be possible to directly interpret the data, or communicate a message. Instead, we need to take the data as input and convert them to more useful products. The remainder of these notes will focus on ways of doing this within statistics.</p>
<p>We will focus both on how to summarize and communicate data that have been collected, and then how to begin gaining insight from these data. These are the first two roles of statistics, as introduced before: description and inference. All the roles that statistics plays build from the idea that we have been able to collect data which are somehow relevant and representative of the underlying population of interest. We investigate the data, describe what has been observed in the sample, or attempt to conduct inference not because we are interested in the data themselves, but because we hope that the data will be reflective of the population of interest. We are not primarily interested in the statistics that we calculate, but in what these statistics say about the parameters of interest.</p>
<p>It is important, as we begin to explore how we can use data directly, to keep in mind that the entire statistical enterprise relies on having high quality data available. This relies on having measured the factors that we care about, in ways that are meaningful. It relies on representative samples and well-designed experiments. Without adhering to the principles discussed throughout this chapter, statistics cannot proceed in a way which addresses our goals. High quality data are not a substitute for statistical analysis, but it is a prerequisite for it.</p>
</section>
<section id="exercises" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="exercises">Exercises</h2>
<div id="exr-10.1" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.1</strong></span> For each of the following scenarios, identify the population of interest and the sample. Is the described sampling effective for studying the population of interest?</p>
<ol type="a">
<li>A television network wants to gauge the viewership of a new reality TV show. They collect ratings data from 1,000 households in a specific region.</li>
<li>Researchers are studying the effects of a new exercise program on heart health. They recruit 50 adults from a local fitness center.</li>
<li>A civil engineering firm is studying the strength of concrete in a particular city by taking core samples from randomly selected buildings.</li>
<li>A hospital is conducting a patient satisfaction survey to improve its services. They send questionnaires to 300 patients who recently stayed at the hospital.</li>
<li>A polling agency conducts a survey to predict the outcome of an upcoming election. They interview 2,000 registered voters across the country.</li>
<li>Researchers are investigating the prevalence of a specific genetic mutation associated with a rare disease in a certain region. They collect DNA samples from 500 individuals living in that area.</li>
<li>An aerospace company is conducting a study to determine the reliability of a new aircraft engine. They collect performance data from 20 engines produced in their factory.</li>
<li>A public health agency is conducting a study to assess the vaccination coverage for a new vaccine in a specific age group. They survey 1,000 children aged 5 to 12 in a given city.</li>
<li>A software development company is conducting a usability test on a new mobile app. They invite 50 users from their customer database to participate and provide feedback.</li>
<li>A car manufacturer wants to test the fuel efficiency of its new electric vehicle model by collecting data from 100 vehicles sold in the United States.</li>
</ol>
</div>
<div id="exr-10.2" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.2</strong></span> Define the population for each of the following scenarios.</p>
<ol type="a">
<li>A shipment of bolts is received from a vendor. To check whether the shipment is acceptable with regard to shear strength, an engineer reaches into the container and selects <span class="math inline">\(10\)</span> bolts, one by one, to test.</li>
<li>The resistance of a certain resistor is measured five times with the same ohmmeter.</li>
<li>A graduate student majoring in environmental science is part of a study team that is assessing the risk posed to human health of a certain contaminant present in tap water in their town. Part of the assessment process involves estimating the amount of time that people who live in that town are in contact with tap water. The student recruits residents of the town to keep diaries for a month, detailing day-by-day the amount of time they were in contact with tap water.</li>
<li>Eight welds are made with the same process, and the strength of each is measured.</li>
<li>A quality engineer needs to estimate the percentage of parts manufactured on a certain day that are defective. At 2:30 in the afternoon he samples the last <span class="math inline">\(100\)</span> parts to be manufactured.</li>
</ol>
</div>
<div id="exr-10.3" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.3</strong></span> For each of the following descriptions, indicate whether the described quantity is a parameter or a statistic. Why?</p>
<ol type="a">
<li>The average height of all adults in the world.</li>
<li>The average income of a sample of 100 households in a city.</li>
<li>The proportion of students who passed a standardized test in a specific school.</li>
<li>The median age of all people living in a country.</li>
<li>The unemployment rate for the entire country.</li>
<li>The mean score of your friends on a recent quiz.</li>
<li>The percentage of cars in a state that are electric vehicles.</li>
<li>The percentage of cars in a parking lot that are electric vehicles.</li>
<li>The variation of a species’ weight in a national park.</li>
<li>The percentage of customers who prefer brand A over brand B in a nationwide survey.</li>
<li>The average number of students per classroom in a school district.</li>
<li>The proportion of people who voted for a specific candidate in a county.</li>
<li>The range of salaries in a particular company.</li>
<li>The range of salaries in a particular department at a company.</li>
<li>The percentage of defective products in an entire manufacturing plant.</li>
<li>The percentage of defective products in a batch from a manufacturing plant.</li>
<li>The most common age of all employees in a corporation.</li>
<li>The percentage of students who participate in extracurricular activities in a specific school district.</li>
<li>The spread in test scores for all students in a university.</li>
<li>The percentage of households with pets in a country.</li>
</ol>
</div>
<div id="exr-10.4" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.4</strong></span> For each of the following variables, identify whether it is a categorical or numeric variable. For the numeric variables, identify whether it is discrete or continuous. Explain.</p>
<ol type="a">
<li>The colour of cars in a parking lot.</li>
<li>The number of books a person has read.</li>
<li>The contents of a shopping cart at the grocery store.</li>
<li>Temperature measured in degrees Celsius.</li>
<li>Self-identified gender.</li>
<li>Height in centimeters.</li>
<li>The genre of a film.</li>
<li>Household income.</li>
<li>Socioeconomic status.</li>
<li>Age for study participants.</li>
</ol>
</div>
<div id="exr-10.5" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.5</strong></span> For each of the following questions, identify whether this would be addressed through descriptive, inferential, predictive, or prescriptive statistics. Why?</p>
<ol type="a">
<li>What is the average income of employees in our company?</li>
<li>What are next year’s sales trends for our product going to be?</li>
<li>How many students passed the math exam last year?</li>
<li>Is there a difference in test scores between students who received extra tutoring and those who did not?</li>
<li>What percentage of customers are likely to purchase our new product based on market research?</li>
<li>Can we recommend changes to the manufacturing process to reduce defects in our products?</li>
<li>How confident are we that the recent increase in website traffic will lead to higher sales?</li>
<li>What are the key factors influencing employee job satisfaction in our organization?</li>
<li>Should we implement a new marketing strategy based on customer feedback and buying patterns?</li>
<li>What is the margin of error for the survey results on public opinion regarding a proposed policy change?</li>
</ol>
</div>
<div id="exr-10.6" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.6</strong></span> For each of the following scenarios, indicate whether the described sampling method is simple random sampling, systematic random sampling, cluster random sampling, stratified random sampling, or multistage sampling. For each, indicate whether it is an appropriate choice, and what the drawbacks of using it may be.</p>
<ol type="a">
<li>To understand commuting habits in a city, researchers divide the population into income brackets and then randomly select individuals from each bracket.</li>
<li>A university wants to study the satisfaction level of its students. They randomly select several classrooms and survey all the students present in those classrooms.</li>
<li>A market researcher selects every 10th person who enters a shopping mall to participate in a survey about consumer preferences.</li>
<li>A pharmaceutical company wants to test a new drug. They randomly select five hospitals and then sample all the patients being treated for the targeted condition in those hospitals.</li>
<li>A city council wants to assess the opinion of its citizens on a proposed policy change. They divide the city into neighborhoods and randomly select a few neighborhoods, from which they randomly select households to survey.</li>
<li>A company wants to know the opinion of its employees about a new HR policy. They randomly select employees from the company list to survey about the policy.</li>
<li>A magazine wants to survey its readers about their preferences for future content. They randomly select subscribers from each geographical region where the magazine is distributed.</li>
<li>A political pollster wants to gauge voter preferences in a country. They divide the country into regions and randomly select a few regions to conduct interviews with a random selection of eligible voters.</li>
<li>A company wants to study the spending habits of different age groups. They divide the population into age brackets and then randomly select individuals from each bracket.</li>
<li>A bank wants to assess customer satisfaction with its services. They decide to survey every 15th customer that enters a particular branch location on a particular day.</li>
</ol>
</div>
<div id="exr-10.7" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.7</strong></span> For each of the following scenarios, indicate what sampling scheme may be appropriate, and discuss the rationale (weighing the benefits and costs) for implementing it.</p>
<ol type="a">
<li>A city council wants to assess the opinions of citizens on a new recycling program.</li>
<li>A university conducts research on student satisfaction with campus facilities.</li>
<li>A political campaign team aims to understand voter preferences in a state election</li>
<li>A national magazine conducts a survey to determine readers’ preferences for content.</li>
<li>A health organization plans to conduct a study on the prevalence of a rare disease in the country.</li>
<li>A wildlife conservation organization wants to study the population dynamics of a rare species in a national park.</li>
<li>A sports league conducts a survey to gather feedback from fans about their experiences attending games.</li>
<li>A government agency wants to assess the impact of a policy change on small businesses across the country.</li>
<li>A tourism board wants to gather feedback from tourists visiting a popular destination</li>
<li>A financial institution wants to analyze customer satisfaction with online banking services</li>
<li>A climate research institute plans to study the effects of climate change on ecosystems in a specific region.</li>
</ol>
</div>
<div id="exr-10.8" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.8</strong></span> A software company wants to gather feedback from its users about a new feature in their application. They have a database of 5,000 active users, and they plan to randomly select 200 of them for the feedback survey.</p>
<ol type="a">
<li>Describe how a simple random sample can be implemented in this situation.</li>
<li>What concerns may the company have with using the simple random sample in this setting?</li>
<li>What are the advantages to using simple random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
</ol>
</div>
<div id="exr-10.9" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.9</strong></span> Conservationists want to assess the population of a specific wildlife species in a forest reserve. They are unable to conduct a census of the reserve, and instead rely on having divided the reserve into several regions, from which they plan to do a simple random sample and then count the prevalence of the species in each of the sampled regions. Suppose that they divide the reserve into <span class="math inline">\(500\)</span> regions, and have the capacity to sample <span class="math inline">\(20\)</span> of them.</p>
<ol type="a">
<li>Describe how a simple random sample can be implemented in this situation.</li>
<li>What concerns may the conservationists have with using the simple random sample in this setting?</li>
<li>What are the advantages to using simple random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
</ol>
</div>
<div id="exr-10.10" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.10</strong></span> A manufacturing company produces thousands of identical products daily and wants to ensure quality control by inspecting a sample of the products. The company wants to select a sample of products for inspection without inspecting every single item, as it would be time-consuming and costly. They decide that of the <span class="math inline">\(20,000\)</span> products produced per week, they want to sample and test <span class="math inline">\(100\)</span> of them.</p>
<ol type="a">
<li>Describe how the company can use systematic random sampling to approach this problem.</li>
<li>What concerns may the company have with using systematic random sampling in this setting?</li>
<li>What are the advantages to systematic random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
</ol>
</div>
<div id="exr-10.11" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.11</strong></span> A research team wants to study the air quality in a city over a period of one month. They plan to collect hour-long air samples hourly at various locations throughout the city over the course of a month. They have the resources to collect <span class="math inline">\(50\)</span> samples at each location.</p>
<ol type="a">
<li>Describe how systematic random sampling can be implemented in this situation.</li>
<li>What concerns may the there be with using systematic random sampling in this setting?</li>
<li>Suppose instead the researchers only had resources to collect <span class="math inline">\(20\)</span> samples per location. How might this cause further issues?</li>
<li>What are the advantages to systematic random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
</ol>
</div>
<div id="exr-10.12" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.12</strong></span> A marketing agency wants to conduct a survey to assess consumer preferences for a new product in a large city. The city can be divided into roughly <span class="math inline">\(50\)</span> neighbourhoods which are dispersed throughout the city. On average, each neighbourhood has approximately <span class="math inline">\(100\)</span> houses. In total, the agency has the resources to visit approximately <span class="math inline">\(500\)</span> houses.</p>
<ol type="a">
<li>Describe how cluster random sampling can be implemented in this situation.</li>
<li>What concerns may the agency have with using cluster random sampling in this setting?</li>
<li>Is the agency guaranteed to have a sample size of <span class="math inline">\(500\)</span>? Why or why not?</li>
<li>What are the advantages to using cluster random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
</ol>
</div>
<div id="exr-10.13" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.13</strong></span> A school district wants to assess the effectiveness of a new teaching method across multiple schools. There are <span class="math inline">\(50\)</span> schools in the district in total, and the new teaching method will be best served by being implemented throughout the entirety of the school at once. As a result, all teachers and students at the selected schools will be interviewed to assess its efficacy. Resources exist to trial this at <span class="math inline">\(5\)</span> schools.</p>
<ol type="a">
<li>Describe how cluster random sampling can be implemented in this situation.</li>
<li>What will the sample size be in this situation? Explain.</li>
<li>What concerns may the agency have with using cluster random sampling in this setting?</li>
<li>What are the advantages to using cluster random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
</ol>
</div>
<div id="exr-10.14" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.14</strong></span> A health department wants to assess the prevalence of a disease in a city with a diverse population. They plan to divide the population into age groups (children, adults, seniors) and randomly select individuals from each group for testing. In this city, there are <span class="math inline">\(8000\)</span> children, <span class="math inline">\(15000\)</span> adults, and <span class="math inline">\(6000\)</span> seniors.</p>
<ol type="a">
<li>Describe how stratified random sampling, with proportional allocation, can be implemented in this situation.</li>
<li>What concerns may the health department have with using stratified random sampling in this setting?</li>
<li>What are the advantages to using stratified random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
</ol>
</div>
<div id="exr-10.15" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.15</strong></span> A research team wants to study the academic performance of students in a school district with schools of varying socioeconomic status. They plan to divide students into socioeconomic strata (low, medium, high) and randomly select students from each stratum for analysis. There are approximately <span class="math inline">\(3000\)</span>, <span class="math inline">\(4000\)</span>, and <span class="math inline">\(1000\)</span> students living in low, medium, and high socioeconomic areas in the city.</p>
<ol type="a">
<li>Describe how stratified random sampling can be implemented in this situation.</li>
<li>What concerns may the research team have with using stratified random sampling in this setting?</li>
<li>What are the advantages to using stratified random sampling for this particular use case?</li>
<li>Would any of the other sampling schemes be useful for this particular problem? Explain.</li>
<li>How might the researchers decide to stratify this population differently? How might this choice inform the conclusions that are drawn from the analysis?</li>
</ol>
</div>
<div id="exr-10.16" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.16</strong></span> For each of the following techniques for generating a sample, describe the issues which may arise from the sample, and suggest alternative schemes which may alleviate those concerns.</p>
<ol type="a">
<li>A marketing team wants to gather feedback on customer preferences at a local convenience store. They approach customers who happen to be in the store at the time of the survey and ask them to participate.</li>
<li>A student organization conducts a survey on campus cafeteria food quality by approaching students dining in the cafeteria during lunch hours and asking them to participate.</li>
<li>A company conducts a poll on social media platforms to gather opinions on a new product feature. They post the poll on their social media pages and invite followers to participate.</li>
<li>A nonprofit organization conducts a survey on housing insecurity by approaching individuals accessing community support programs, and asking them to participate.</li>
<li>A company sends out an online survey to its email subscribers to gather feedback on a recent product launch. They invite subscribers to participate by clicking on a link in the email.</li>
</ol>
</div>
<div id="exr-10.17" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.17</strong></span> For each of the following experiments, identify the experimental units, response variable, factor(s), possible level(s), and treatment(s).</p>
<ol type="a">
<li>A study is conducted to investigate the effect of different fertilizer types on the growth of tomato plants.</li>
<li>Researchers want to test the effectiveness of three different teaching methods on students’ math test scores.</li>
<li>A pharmaceutical company wants to evaluate the impact of two dosage levels of a new medication, coupled with differing levels of physical activity regimens and dietary changes, on patients’ blood pressure.</li>
<li>An environmental organization plans to assess the effect of varying light conditions on the growth of algae in aquatic ecosystems.</li>
<li>A psychology research team aims to study the influence of different music genres and modes of listening (through speakers or headphones) on individuals’ mood and productivity levels.</li>
<li>A sports scientist wants to investigate the impact of hydration levels on athletes’ performance during endurance exercises.</li>
<li>A food manufacturer conducts a study to determine the effect of preparation methods and cooking temperatures on the nutritional content of vegetables.</li>
<li>Researchers plan to investigate the effect of different sleep durations (6 hours, 8 hours, and 10 hours) on cognitive function and alertness levels.</li>
<li>A wildlife biologist wants to assess the impact of habitat types (forest, grassland, and wetland) and prevalence of predators on bird species diversity.</li>
<li>A social scientist aims to study the effect of social media usage (low, moderate, and high) on individuals’ self-esteem levels.</li>
<li>A transportation agency aims to assess the impact of traffic congestion levels (low, moderate, and high) on air pollution levels in urban areas.</li>
</ol>
</div>
<div id="exr-10.18" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.18</strong></span> &nbsp;</p>
<ol type="a">
<li>Describe what statistical controls are and the importance of statistical controls in experimental design.</li>
<li>Describe what randomization is and the importance of randomization in experimental design.</li>
<li>Describe what replication is and the importance of replication in experimental design.</li>
</ol>
</div>
<div id="exr-10.19" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.19</strong></span> For each of the following experimental designs, identify an issue with the proposed design, and indicate a possible remedy for it.</p>
<ol type="a">
<li>A pharmaceutical company tests the efficacy of a new drug by administering it to a group of patients with a specific</li>
<li>A study aims to investigate the effect of exercise on blood pressure by comparing the blood pressure before-and-after the exercise program for a group of individuals.</li>
<li>A psychologist conducts an experiment to examine the impact of music genre on stress levels by randomly assigning participants to either listen to music several genres of music or to sit quietly for 10 minutes, then measures their stress levels. There are <span class="math inline">\(8\)</span> participants in the study, and <span class="math inline">\(7\)</span> genres of music being compared.</li>
<li>A nutritionist wants to evaluate the effect of a new diet plan on cholesterol levels by recruiting volunteers and asking them to follow the diet plan for one month, then measuring their cholesterol levels at the end of the month.</li>
<li>An agriculture researcher tests the effectiveness of a new pesticide by spraying it on one field of crops and leaving another field untreated, then comparing the yield of the two fields.</li>
<li>A medical researcher considers the efficacy of a new surgical intervention to a previous pharmaceutical treatment. The surgical intervention is performed on a set of individuals who are deemed healthy enough to undergo surgery, and the pharmaceutical treatment is used for the others.</li>
</ol>
</div>
<div id="exr-10.20" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.20</strong></span> Suppose you want to investigate the effect of different types of exercise on heart rate. The response variable is heart rate, and the factors are the types of exercise. The possible treatment levels include running, jogging, cycling, and swimming. How would you implement a completely randomized design for this experiment?</p>
</div>
<div id="exr-10.21" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.21</strong></span> You are interested in examining the influence of different teaching methods on student test scores. The response variable is “test score improvement”, and the factors are treatment is teaching method. The teaching method is defined based on course structure (lecture-based teaching, problem-based learning, and group discussions), the amount of contact time (low, medium, or high), and the format of lesson delivery (slides, whiteboard, or video delivery). How would you implement a completely randomized design for this study?</p>
</div>
<div id="exr-10.22" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.22</strong></span> Suppose you want to investigate the effect of various study methods on exam performance. The response variable is exam score, and the factors are study methods. However, you suspect that students’ initial knowledge levels might affect the results. How would you implement a randomized block design for this experiment?</p>
</div>
<div id="exr-10.23" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.23</strong></span> You aim to study the impact of different fertilizer types on crop yield. The response variable is crop yield, and the factors are fertilizer types. However, you suspect that soil quality might affect the results. How can you design a randomized block experiment to account for this?</p>
</div>
<div id="exr-10.24" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.24</strong></span> You are interested in examining the influence of various medication dosages on patient recovery time. The response variable is recovery time, and the factors are medication dosages. However, you suspect that age might influence patients’ responses to the medications. How would you implement a randomized block design for this study?</p>
</div>
<div id="exr-10.25" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.25</strong></span> For each of the following variables, indicate whether it is a qualitative or quantitative variable. If it is quantitative, indicate whether it is discrete or continuous. If the variable can fit into multiple categories, explain.</p>
<ol type="a">
<li>Age</li>
<li>Gender</li>
<li>Height</li>
<li>Favorite colour</li>
<li>Income</li>
<li>Marital Status</li>
<li>Temperature</li>
<li>Education Level</li>
<li>Number of Siblings</li>
<li>Blood Type</li>
<li>Shoe Size</li>
<li>Political Affiliation</li>
<li>Grade Point Average (GPA)</li>
<li>Type of Car Owned</li>
<li>Number of Pets</li>
<li>Number of Facebook Friends</li>
<li>Opinion on a Political Issue</li>
<li>Annual Rainfall</li>
<li>Type of Smartphone Owned</li>
<li>Level of Agreement on a Survey Question</li>
</ol>
</div>
<div id="calculator-holder">
<div id="qwebr-insertion-location-1"></div>
<script type="module">
// Retrieve the insertion point
const currentDocumentLocation = document.getElementById("qwebr-insertion-location-1");

// Initalize an interactive element
const initializedElement =   qwebrCreateInteractiveElement(
    1
  );

// Add the interactive element into the document scope
currentDocumentLocation.appendChild(initializedElement);

// Initialize a Monaco Editor Instance
qwebrCreateMonacoEditorInstance(
  `## Enter your calculations here`, 
  1);
</script>
<noscript>Please enable JavaScript to experience the dynamic code cell content on this page.</noscript>
</div>
<div id="calculator-holder-btn">
<p><i class="bi bi-calculator"></i></p>
</div>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>For instance, we assume that particular probability mass functions hold, that certain distributions are present, that random quantities are independent<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Note, the word <em>data</em> is a plural noun in English. That is, we say “The observed data are …” rather than “The observed data is …” Some statisticians care deeply about correcting this misconception, and forget how weird those types of sentences to non-statisticians. I promise it will eventually sound more familiar!<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>or <em>processes</em><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Be that individuals or objects.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>It is not impossible to do so. For instance, governments often run national censuses, which are a full survey of every member of the population of a country. These are incredibly large undertakings, however, and are not feasible in many settings.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>The sample.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>The probability of this is <span class="math inline">\(0.00000000000000000000094036353533487965306938402439390200376889694666715513449162\)</span>, which is very, very small, but not zero.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>This, as we will remember from our previous chapters, makes the hypergeometric distribution deeply connected to simple random sampling.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>There are ways of doing this, but they are more complex and fall beyond the scope of these notes.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>Instead of selecting <span class="math inline">\(m\)</span> between <span class="math inline">\(1\)</span> and <span class="math inline">\(k\)</span>.<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>For instance, <span class="math inline">\(3\)</span> and <span class="math inline">\(5\)</span> both show up twice, while every other element shows up only once.<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>For instance, some people claim that music will help with plant growth.<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>In medical studies this takes the form of a placebo: a treatment which looks like a medical treatment but has no active ingredients.<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>Or less favourably…<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>Or “mediated”.<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>As a result, times, heights, or volumes will often be considered continuous even if theoretically they are discretized.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script>

/* definition of content for the buttons */
const webex_buttons = {check_hidden:          "<b>&check;</b>",
                       check_hidden_alt:      "Check answer",
                       check_shown:           "<b>&lsh;</b>",
                       check_shown_alt:       "Hide check",
                       check_of_total:        "/",
                       solution:              "<b>&quest;</b>",
                       solution_alt:          "Correct solution",
                       question_next:         "<b>&#8634;</b>",
                       question_next_alt:     "Next question",
                       question_previous:     "",
                       question_previous_alt: ""}

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  document.querySelectorAll(".webex-total_correct").forEach(total => {
    p = total.closest(".webex-box");
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;
    /* no specific class on input node, thus searching via query selector */
    var checkboxgroups = p.querySelectorAll("div[class=webex-checkboxgroup] input[type=checkbox]").length

    /* show number of correct / total number of answers */
    total.innerHTML = correct + "&nbsp;" + webex_buttons.check_of_total + "&nbsp;" + (solvemes + radiogroups + checkboxgroups + selects);
  });
}

/* check answers */
check_func = function() {
  console.log("webex: check answer");

  //var cl = this.parentElement.classList;
  var cl = this.closest(".webex-box").classList;
  if (cl.contains("unchecked")) {
    cl.remove("unchecked");
    this.innerHTML = webex_buttons.check_shown; //"Hide check";
    if (webex_buttons.check_shown_alt.length > 0) this.setAttribute("title", webex_buttons.check_shown_alt);
  } else {
    cl.add("unchecked");
    this.innerHTML = webex_buttons.check_hidden; //"Check answer";
    if (webex_buttons.check_hidden_alt.length > 0) this.setAttribute("title", webex_buttons.check_hidden_alt);
  }
}

/* Show/hide correct solution */
solution_func = function() {
  console.log("webex: show/hide solution");

  var div = this.closest(".webex-question").querySelector(".webex-solution");
  var cl = div.classList;

  if (cl.contains("visible")) {
    cl.remove("visible");
  } else {
    cl.add("visible");
  }
}

/* function to check if the real answer is numeric */
convert_to_numeric = function(x) {
    if (typeof x == "string") {
        /* do nothing */
    } else if (x.length == 1) {
        /* take first element */
        x = x[0]
    } else {
        return NaN;
    }

    /* remove spaces for easier parsing */
    x = x.replace(/\s/g, "");

    /* Define patterns for different formats, note that spaces have been removed above */
    const patterns = [
        {regex: /^[+-]?\d+(\.\d{3})*,\d+$/, decimal: ",", thousand: "." },  // Format: "1.100.100.100,3"
        {regex: /^[+-]?\d+(,\d{3})*\.\d+$/, decimal: ".", thousand: "," },  // Format: "1,100,100,100.3"
        {regex: /^[+-]?\d+(\.\d+)?$/, decimal: "." },                       // Format: "1100100100.5"
        {regex: /^[+-]?\d+,\d+$/, decimal: "," }                            // Format: "1100100100,5"
    ];

    /* testing all regular expressions, convert to float if possible */
    for (const { regex, decimal, thousand } of patterns) {
        if (regex.test(x)) {
            let numeric = x;
            if (thousand) numeric = numeric.replace(new RegExp(`\\${thousand}`, "g"), "");
            numeric = numeric.replace(decimal, ".");
            return parseFloat(numeric);
        }
    }
    
    /* input of length 1 but none of the known formats, return NaN */
    return NaN;
}

/* function for checking solveme answers */
solveme_func = function(e) {
  /* avoid that keyup and keychange twice execute this function within nms = 10
   * ms, clearing inputTimer and add timeout */
  console.log("webex: check solveme");

  /* float, precision for checking numeric answers */
  const eps = 0.00000000000001;

  /* get last checked user answer */
  const question = this.closest(".webex-question")

  /* extracting classes */
  var cl = this.classList;
  var my_answer = this.value;

  /* empty answer? Job done */
  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
    return false;
  }

  /* "Else" we continue evaluating the answer */
  var real_answers = JSON.parse(this.dataset.answer);

  /* by default we assume the users' answer is incorrect */
  var user_answer_correct = false;

  /* check if the correct answer is numeric, i.e. if 
   * real_answers is of length 1 containing one single numeric
   * value in a known format, else, NaN is returned */
  const num_real_answer = convert_to_numeric(real_answers);
  const num_my_answer   = convert_to_numeric(my_answer);

  /* if the correct answer is numeric (float), the user's answer
   * must also be numeric. If not, it is wrong. Else we can
   * compare floating point numbers */
  if (!isNaN(num_real_answer) && !isNaN(num_my_answer)) {
    //DEV// console.log("webex: evaluating numeric answer")
    /* check if the real answer and the user input are numerically the same;
     * adding 'delta' to avoid precision issues */
    var diff = Math.abs(num_real_answer - num_my_answer);
    if (diff < parseFloat(this.dataset.tol) + eps) { user_answer_correct = true; }

  /* if the question contains regex, a regular expression is used
   * to evaluate the users answer (only possible if length of answers is 1) */
  } else if (cl.contains("regex") && real_answers.length == 1) {
    //console.log("webex: evaluating answer using regular expression")
    let regex = new RegExp(real_answers[0], cl.contains("ignorecase") ? "i" : "");
    if (regex.test(my_answer)) { user_answer_correct = true; }

  /* else we evaluate on 'string level', considering the creators preferences
   * regarding set options */
  } else {
    //console.log("webex: evaluating string answer")
    /* modify/prepare answer */
    if (cl.contains("ignorecase")) { my_answer = my_answer.toLowerCase(); }
    if (cl.contains("nospaces"))   { my_answer = my_answer.replace(/ /g, ""); }

    /* if the real answer includes user input - correct */
    if (real_answers.includes(my_answer)) {
      user_answer_correct = true;
  
      // added regex bit
      if (cl.contains("regex")) {
        answer_regex = RegExp(real_answers.join("|"))
        if (answer_regex.test(my_answer)) {
          cl.add("webex-correct");
        }
      }
    }
  }

  if (user_answer_correct) {
      cl.add("webex-correct");
      cl.remove("webex-incorrect");
  } else {
      cl.add("webex-incorrect");
      cl.remove("webex-correct");
  }

  update_total_correct();

}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector("input[name=" + this.id + "]:checked");
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}


/* function for checking checkboxgroups answers */
checkboxgroups_func = function(e) {
  console.log("webex: check checkboxgroups");

  /* list of all answer elements (correct and incorrect) */
  var inputs = document.querySelectorAll("div[id='" + this.id + "'] input")

  /* setting class for correct/incorrect answers */
  inputs.forEach(function(input) {
      var label = input.parentNode
      if ((input.checked && input.value == "answer") || (!input.checked && input.value == "")) {
          //input.setAttribute("class", "webex-correct")
          label.setAttribute("class", "webex-correct")
      } else {
          label.setAttribute("class", "webex-incorrect")
      }
  });

  update_total_correct();
}

/* shuffling array (thanks to stack overflow)
 * If argument x is an integer we create an integer sequence
 * from 0, 1, ..., (x - 1) and return a shuffled version. If
 * the input is an array, we simply shuffle it */
shuffle_array = function(x) {
   if (Number.isInteger(x) && !isNaN(x)) {
     x = Array.from({length: x}, (v, i) => i);
   }
   let shuffled = x.map(value => ({ value, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort).map(({ value }) => value)
   return shuffled;
}

/* ---------------------------------------------------------
 * ---------------------------------------------------------
 * --------------------------------------------------------- */
window.onload = function() {
  console.log("webex onload");

  /* setting up buttons and actions to show/hide answers */
  document.querySelectorAll(".webex-check").forEach(section => {
    section.classList.add("unchecked");

    /* ul to take up the list items with buttons */
    let button_ul = document.createElement("ul");
    button_ul.setAttribute("class", "webex-button-list");
    section.appendChild(button_ul);

    /* button to _check_ if answers given are correct */
    let li_check = document.createElement("li");
    button_ul.appendChild(li_check); /* add list item to ul */
    let btn_check = document.createElement("button");
    btn_check.innerHTML = webex_buttons.check_hidden;  // "Check answer";
    btn_check.setAttribute("class", "webex-button webex-button-check");
    if (webex_buttons.check_hidden_alt.length > 0) btn_check.setAttribute("title", webex_buttons.check_hidden_alt);
    btn_check.onclick = check_func;
    li_check.appendChild(btn_check);

    /* span to show current number of points (when _check_ active) */
    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    li_check.appendChild(spn);

    /* button to show the _solution_ if there is one */
    var has_solution = section.parentNode.querySelectorAll(".webex-solution").length > 0;
    if (has_solution) {
      let li_solution = document.createElement("li");
      button_ul.appendChild(li_solution); /* add list item to ul */
      let btn_solution = document.createElement("button");
      btn_solution.innerHTML = webex_buttons.solution; // "Correct answer";
      btn_solution.setAttribute("class", "webex-button webex-button-solution");
      if (webex_buttons.solution_alt.length > 0) btn_solution.setAttribute("title", webex_buttons.solution_alt);
      btn_solution.onclick = solution_func;
      li_solution.appendChild(btn_solution);
    }

  });

  /* set up webex-solveme inputs */
  document.querySelectorAll(".webex-solveme").forEach(solveme => {
    solveme.setAttribute("autocomplete","off");
    solveme.setAttribute("autocorrect", "off");
    solveme.setAttribute("autocapitalize", "off");
    solveme.setAttribute("spellcheck", "false");
    solveme.value = "";

    /* adjust answer for ignorecase or nospaces */
    if (solveme.classList.contains("ignorecase")) {
      solveme.dataset.answer = solveme.dataset.answer.toLowerCase();
    }
    /* adjust answer for 'no spaces' (ignore spaces) */
    if (solveme.classList.contains("nospaces")) {
      solveme.dataset.answer = solveme.dataset.answer.replace(/ /g, "");
    }

    /* attach checking function, triggered on key up, change, and when
     * elemnt is out of focus. Only evaluated once by tracking changes
     * via variable solveme_last_user_answer */
    solveme.addEventListener("keyup",  solveme_func);
    solveme.addEventListener("change", solveme_func);
    solveme.addEventListener("blur",   solveme_func);

    /* adding span to show correct/incorrect icon */
    solveme.insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  });

  /* set up radiogroups (single choice questions with display = "buttons") */
  document.querySelectorAll(".webex-radiogroup").forEach(radiogroup => {
    radiogroup.onchange = radiogroups_func;
  });

  /* set up checkboxgroups (multiple choice questions with display = "buttons") */
  document.querySelectorAll(".webex-checkboxgroup").forEach(checkboxgroup => {
    checkboxgroup.onchange = checkboxgroups_func;
  });

  /* set up selects (dropdown menus) */
  document.querySelectorAll(".webex-select").forEach(select => {
    select.onchange = select_func;
    /* append webex-icon for correct/incorrect icons */
    var elem = document.createElement("span")
    elem.classList.add("webex-icon")
    select.parentNode.appendChild(elem)
  });

  /* change to next/previous question if multiple are available */
  function handleQuestionClick(group, questions, step) {
    return async function() {
      /* get question order as integer vector */
      let questionOrder = group.dataset.questionOrder.split(",").map(str => parseInt(str));

      /* current question/position */
      let currentPosition = parseInt(group.dataset.currentPosition);
  
      /* Hide the current question */
      questions.forEach(question => { question.classList.remove("active"); });

      /* Move to the next question index */
      currentPosition = (currentPosition + step) % questionOrder.length;
      if (currentPosition < 0) currentPosition = currentPosition + questionOrder.length

      /* Display the new question */
      // devel // console.log("set question " + questionOrder[currentPosition] +
      // devel //             " (" + currentPosition + ") as active");
      questions[questionOrder[currentPosition]].classList.add("active");
  
      // Update the currentPosition data attribute on the group div
      group.dataset.currentPosition = currentPosition;
    };
  }

  
  document.querySelectorAll(".webex-group").forEach(group => {
    const questions = Array.from(group.querySelectorAll(".webex-question"));
    const questionOrder = shuffle_array(questions.length);

    /* take start position (if set) or start at 0 */
    const currentPosition = parseInt(group.getAttribute("data-start-position")) || 0;

    /* show the default question for each group */
    questions[questionOrder[currentPosition]].classList.add("active");
    // devel // console.log("set question " + questionOrder[currentPosition] +
    // devel //             " (" + currentPosition + ") as active; " + questionOrder);
  
    /* store random order of questions as well as current position */
    group.dataset.questionOrder   = questionOrder;
    group.dataset.currentPosition = currentPosition;

    /* find all webex-questions, search for .webex-button-list and
     * populate the list with necessary <li><button>...</button></li> elements */
    questions.forEach(question => {
        let button_ul = question.querySelector("ul.webex-button-list");

        let li_next = document.createElement("li");
        let nextButton = document.createElement("button");
        nextButton.setAttribute("class", "webex-button webex-button-next");
        if (webex_buttons.question_next_alt.length > 0) nextButton.setAttribute("title", webex_buttons.question_next_alt);
        nextButton.innerHTML = webex_buttons.question_next; // "Next question";
        nextButton.addEventListener("click", handleQuestionClick(group, questions, 1));
        li_next.appendChild(nextButton);

        let li_previous = document.createElement("li");
        let previousButton = document.createElement("button");
        previousButton.setAttribute("class", "webex-button webex-button-previous");
        if (webex_buttons.question_previous_alt.length > 0) previousButton.setAttribute("title", webex_buttons.question_previous_alt);
        previousButton.innerHTML = webex_buttons.question_previous; // "Previous question";
        previousButton.addEventListener("click", handleQuestionClick(group, questions, -1));
        li_previous.appendChild(previousButton);

        console.log(button_ul);
        if (webex_buttons.question_previous.length > 0) button_ul.appendChild(li_previous);
        if (webex_buttons.question_next.length > 0) button_ul.appendChild(li_next);
    });
  });


  update_total_correct();
}

</script>
<script>

document.addEventListener('DOMContentLoaded', function() {

    const calculatorButton = document.getElementById('calculator-holder-btn');

    const calculatorHolder = document.getElementById('calculator-holder');

  

    if (calculatorButton && calculatorHolder) {

      let isVisible = false;

  

      calculatorButton.addEventListener('click', function() {

        if (isVisible) {

          calculatorHolder.style.bottom = '-100%';

          calculatorButton.innerHTML = '<i class="bi bi-calculator"></i>';

        } else {

          calculatorHolder.style.bottom = '0';

          calculatorButton.innerHTML = '<i class="bi bi-x-lg"></i>';

        }

        isVisible = !isVisible;

      });

    }

  });

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          trigger: 'click',
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          positionFixed: true,
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../notes/chapter9.html" class="pagination-link" aria-label="Continuous Random Variables">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Continuous Random Variables</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../notes/chapter11.html" class="pagination-link" aria-label="An Introduction to Descriptive Statistics">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">An Introduction to Descriptive Statistics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>